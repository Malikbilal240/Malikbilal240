oracle patching october 2025 download

download opatch latest version

STEPS TO ENABLE FLASHBACK..AND GUARANTEE RESTOREPOINT 
SQL> alter system set db_recovery_file_dest_size=50G scope=both; 
System altered.
 
SQL> alter system set db_recovery_file_dest='/oraexp/fra' scope=both;
 
System altered. 
***update the retention per request, we usually make it for 48 hours i.e 2880***
 
SQL> show parameter db_flashback_retention;
NAME                                TYPE        VALUE
------------------------------------ ----------- ------------------------------
db_flashback_retention_target       integer     1440

Take archive backup.
We also verify last L0, L1 backups if those were successful and then execute the archive backup once

 RUN
{
allocate channel ch1 type disk format '/efs-ges-backup-east1a/ges-prod/usawstax05370/GESAPPR1/ARCHIVELOGS/al_%t_%s_p%p';
sql 'alter system archive log current';
sql 'alter database backup controlfile to trace';
backup archivelog all delete all input;
RELEASE channel ch1;
}

exit;

alter database flashback on;
 
Database altered.
 
***capture and save the current_scn and sysdate for flashback(if needed)***
Below are the sample o/p
SQL> select current_scn from v$database;
 
CURRENT_SCN
-----------
 129432124
 
SQL> select to_char(sysdate,'DD MM YYYY HH24:MI:SS') from dual;
 
TO_CHAR(SYSDATE,'DD
-------------------
03 04 2020 08:48:13
 
 ======================================================
SELECT flashback_on FROM v$database;
 

To ensure we can roll back if needed, create a guaranteed restore point:  
 
CREATE RESTORE POINT Before_deployment GUARANTEE FLASHBACK DATABASE;
 
This ensures Oracle keeps all necessary logs.  
 
 
7. Confirm the Restore Point Exists  
 
Verify that the restore point was successfully created:  
 
SELECT NAME, SCN, TIME, GUARANTEE_FLASHBACK_DATABASE
FROM V$RESTORE_POINT;
-----------------------------#############################
STEPS FOR FLASHBACK ENABLE IN STANDBY DB 

SQL> alter system set db_recovery_file_dest_size=50G scope=both;
 
System altered.
 
SQL> alter system set db_recovery_file_dest='/oraexp/fra' scope=both;
 
System altered.
 
***update the retention per request, we usually make it for 48 hours i.e 2880***
 
SQL> show parameter db_flashback_retention;
NAME                                TYPE        VALUE
------------------------------------ ----------- ------------------------------

db_flashback_retention_target       integer     1440

SQL>ALTER DATABASE RECOVER MANAGED STANDBY DATABASE CANCEL;

SQL> alter database flashback on;

***capture and save the current_scn and sysdate for flashback(if needed)***
Below are the sample o/p
SQL> select current_scn from v$database;
 
CURRENT_SCN
-----------
 129432124
 
SQL> select to_char(sysdate,'DD MM YYYY HH24:MI:SS') from dual;
 
TO_CHAR(SYSDATE,'DD
-------------------
03 04 2020 08:48:13
SQL>ALTER DATABASE RECOVER MANAGED STANDBY DATABASE DISCONNECT FROM SESSION;
 
We also verify last L0, L1 backups if those were successful and then execute the archive backup once
 ======================================================
 
SELECT flashback_on FROM v$database;

To ensure we can roll back if needed, create a guaranteed restore point:  
 
CREATE RESTORE POINT Before_deployment GUARANTEE FLASHBACK DATABASE;
 
This ensures Oracle keeps all necessary logs.  
  
7. Confirm the Restore Point Exists  
 
Verify that the restore point was successfully created:  
==================================================================================
ALTER DATABASE FLASHBACK OFF;

DROP RESTORE POINT Before_deployment;
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
command to check sessions..

SELECT username, osuser, machine, program, status, logon_time
FROM v$session
WHERE username IS NOT NULL;
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
dataguard configuration steps...

http://veera0109.blogspot.in/2014/01/rman-active-duplication-asm-to-asm.html

On Primary
###########

1) Change the db_unique_name of primary to "SYMQ_HDC"

SQL> alter system set db_unique_name='SYMQ_HDC' scope=spfile;

System altered.

SQL> shut immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL> startup;



2) Make sure the listener entry of primary has below details
(If it doesn't have, change the details accordingly and reload the listener)

SID_LIST_LISTENER =
   (SID_LIST =
     (SID_DESC =
         (SID_NAME = PLSExtProc)
         (ORACLE_HOME = /u01/app/oracle/product/19.0/db_1)
        (PROGRAM = extproc)
     )
     (SID_DESC =
        (SID_NAME = CPAP)
        (ORACLE_HOME = /u01/app/oracle/product/19.0/db_1)
        (GLOBAL_DBNAME=CPAP_E1BS.us.deloitte.com)
     )
   )

OUTBOUND_CONNECT_TIMEOUT_LISTENER = 20

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = dbavm.mahi.com)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

ADR_BASE_LISTENER = /u01/app/oracle

-----------------------------------
lsnrctl stop
lsnrctl start
-----------------------------------
SQL> select name, force_logging from v$database;

NAME      FOR
--------- ---
ORCL      NO

SQL> alter database force logging;

Database altered.

SQL> select name, force_logging from v$database;

NAME      FOR
--------- ---
ORCL      YES

SQL> alter system set standby_file_management = 'AUTO';

System altered.


2) Create standby redo logfiles on primary

SQL> select GROUP#,THREAD#,MEMBERS,BYTES FROM V$LOG;

    GROUP#    THREAD#    MEMBERS      BYTES
---------- ---------- ---------- ----------
         1          1          1   52428800
         2          1          1   52428800
         3          1          1   52428800


SQL> select group#, member from v$logfile;

    GROUP#
----------
MEMBER
--------------------------------------------------------------------------------
         3
/u01/app/oradata/orcl/redo03.log

         2
/u01/app/oradata/orcl/redo02.log

         1
/u01/app/oradata/orcl/redo01.log



SQL> ALTER DATABASE ADD STANDBY LOGFILE ('/u10/oraredo/SYMQ/sredo01.log') SIZE 52428800;

Database altered.

SQL> ALTER DATABASE ADD STANDBY LOGFILE ('/u11/oraredo/SYMQ/sredo02.log') SIZE 52428800;

Database altered.

SQL> ALTER DATABASE ADD STANDBY LOGFILE ('/u12/oraredo/SYMQ/sredo03.log') SIZE 52428800;

Database altered.

ALTER DATABASE ADD STANDBY LOGFILE ('/u12/oraredo/SYMQ/sredo04.log') SIZE 52428800;


SQL> ALTER DATABASE ADD STANDBY LOGFILE ('/u01/app/oradata/orcl/sredo05.log') SIZE 52428800;

Database altered.



ALTER DATABASE ADD STANDBY LOGFILE GROUP 7('/opt/rdo/CPAP/sredo07a.log','/opt/rdo/CPAP/sredo07b.log') SIZE 4096M;


2) Do the following parameter changes in primary

SQL> alter system set log_archive_config='DG_CONFIG=(SYMQ_HDC,SYMQ_NDC)';

System altered.

if two standby's ..... log_archive_config='DG_CONFIG=(GESAPPR1_E1AP,GESAPPR1_E1BS,GESAPPR1_W1AS)';



SQL> alter system set log_archive_dest_2='SERVICE=SYMQ_NDC ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=SYMQ_NDC';

System altered.

if two standby's set log_archive_dest_3='SERVICE=CLSP_W1AS LGWR ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=CLSP_W1AS' scope=both;

alter system set log_archive_dest_3='SERVICE=CLSP_W1AS LGWR ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=CLSP_W1AS' scope=both;

SQL> alter system set log_archive_dest_state_2=ENABLE;

System altered.

SQL> alter system set fal_client=CPAP_E1AP;

System altered.

SQL> alter system set fal_server=SYMQ_NDC;

System altered.

SQL> alter system set standby_file_management=AUTO;

System altered.

SQL> alter system set service_names='CLSP, CLSP_E1AP' scope=both;

System altered.

SQL> alter system set db_file_name_convert='/opt/data/CLSP','/opt/data/CLSP','/opt/idx/CLSP','/opt/idx/CLSP' scope=spfile;

System altered.

SQL> alter system set log_file_name_convert='/opt/rdo/CLSP','/opt/rdo/CLSP' scope=spfile;

System altered.


3) Create the tns entry for standby on primary

orclstby.mahi.com =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = dbatest.mahi.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = orclstby.mahi.com)(UR=A)
    )
  )

SYMQ_NDC.US.DELOITTE.COM =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.28.40.206)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = SYMQ_NDC.US.DELOITTE.COM)(UR=A)
    )
  )


4) Copy tnsnames.ora, listener.ora, pwd file and init.ora to standby site. After copying edit listener.ora on standby to reflect the new host name and then start the listener

[usdhc8888 oraxdp XDPP]> pwd
/u01/app/oracle/product/11.2.0/db/network/admin
[usdhc8888 oraxdp XDPP]> scp tnsnames.ora dbatest:/u01/app/oracle/product/11.2.0/db/network/admin
tnsnames.ora                                                                                                                          100%   55KB  54.8KB/s   00:00

[usdhc8888 oraxdp XDPP]> scp listener.ora dbatest:/u01/app/oracle/product/11.2.0/db/network/admin
listener.ora                  


cd $ORACLE_HOME/dbs
[usdhc8888 oraxdp XDPP]> scp orapworcl dbatest:/u01/app/oracle/product/11.2.0/db/dbs
oraxdp@usdhe8888's password:
orapworcl       

SQL> create pfile='$ORACLE_HOME/dbs/initorclstby.ora' from spfile;

File created.

[oracle@dbavm dbs]$ scp initorclstby.ora dbatest:/u01/app/oracle/product/11.2.0/db/dbs
initorclstby.ora

[oracle@dbavm dbs]$


5) After copying change the initorclstby.ora file on standby site with the following:

*.db_file_name_convert='/u01/app/oradata/orcl','/u01/app/oradata/orcl'
*.db_unique_name='orclstby'
*.fal_client='orclstby'
*.fal_server='orclprmy'
*.log_archive_config='DG_CONFIG=(orclstby,orclprmy)'
*.log_archive_dest_2='SERVICE=orclprmy ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=orclprmy'
*.log_file_name_convert='/u01/app/oradata/orcl','/u01/app/oradata/orcl'
*.service_names='orcl, orclstby'

and create the required directories as per init.ora (i.e. adump, diag, cdump etc...)
Ex:-

[oracle@dbatest ~]$ mkdir -p /u01/app/oracle/admin/orcl/adump

create FRA directory if your primary is FRA mode

[oracle@dbatest ~]$ mkdir -p /u01/app/oracle/fra

create the directory for data files

[oracle@dbatest ~]$ mkdir -p /u01/app/oracle/oradata/orcl


6) On standby site edit the listener.ora with below and start the listener

SID_LIST_LISTENER =
   (SID_LIST =
     (SID_DESC =
         (SID_NAME = PLSExtProc)
         (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (PROGRAM = extproc)
     )
     (SID_DESC =
        (SID_NAME = CPAP)
        (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (GLOBAL_DBNAME=orclstby.mahi.com)
     )
   )

OUTBOUND_CONNECT_TIMEOUT_LISTENER = 20

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = dbatest.mahi.com)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

ADR_BASE_LISTENER = /u01/app/oracle

------------------
lsnrctl start
------------------

6) Startup the standby instance in no mount stage
[oracle@dbatest ~]$ export ORACLE_HOME=/u01/app/oracle/product/11.2.0/db
[oracle@dbatest ~]$ export ORACLE_SID=orcl

[oracle@dbatest ~]$ sqlplus "/as sysdba"

SQL> startup nomount pfile='/u01/app/oracle/product/11.2.0/db/dbs/initorclstby.ora';
ORACLE instance started.

Total System Global Area 3156725760 bytes
Fixed Size                  2223776 bytes
Variable Size            1795162464 bytes
Database Buffers         1342177280 bytes
Redo Buffers               17162240 bytes
SQL> create spfile from pfile='/u01/app/oracle/product/11.2.0/db/dbs/initorclstby.ora';

File created.
SQL> shut immediate;
ORA-01507: database not mounted


ORACLE instance shut down.
SQL> startup nomount;
ORACLE instance started.

Total System Global Area 3156725760 bytes
Fixed Size                  2223776 bytes
Variable Size            1795162464 bytes
Database Buffers         1342177280 bytes
Redo Buffers               17162240 bytes
SQL> show parameter spfile;

NAME                                 TYPE
------------------------------------ --------------------------------
VALUE
------------------------------
spfile                               string
/u01/app/oracle/product/11.2.0
/db/dbs/spfileORCL.ora




7) Execute the below command on primary DB server to Duplicate the target DB to standby using RMAN


[oracle@dbavm dbs]$ rman target sys/sys@orclprmy auxiliary sys/sys@orclstby

Recovery Manager: Release 11.2.0.3.0 - Production on Sun Mar 9 00:32:30 2014

Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.

connected to target database: ORCL (DBID=1369057120)
connected to auxiliary database: ORCL (not mounted)

RMAN> DUPLICATE TARGET DATABASE FOR STANDBY FROM ACTIVE DATABASE DORECOVER NOFILENAMECHECK;

8) Shutdown and startup the database on standby site and start the recovery

SQL>shut immediate;


SQL> startup nomount;
ORACLE instance started.

Total System Global Area 3156725760 bytes
Fixed Size                  2223776 bytes
Variable Size            1795162464 bytes
Database Buffers         1342177280 bytes
Redo Buffers               17162240 bytes
SQL> alter database mount standby database;

Database altered.

SQL> alter database recover managed standby database disconnect from session;

Database altered.


########################################################################################################

Primary PFILE Ex:-

GGSRC.__db_cache_size=369098752
GGSRC.__java_pool_size=33554432
GGSRC.__large_pool_size=16777216
GGSRC.__oracle_base='/u01/app/oracle'#ORACLE_BASE set from environment
GGSRC.__pga_aggregate_target=536870912
GGSRC.__sga_target=1040187392
GGSRC.__shared_io_pool_size=0
GGSRC.__shared_pool_size=587202560
GGSRC.__streams_pool_size=16777216
*._shared_io_pool_size=0
*.audit_file_dest='/u01/app/oracle/admin/GGSRC/adump'
*.audit_trail='db'
*.compatible='11.2.0.0.0'
*.control_files='/u02/oradata/GGSRC/control01.ctl','/u03/oradata/GGSRC/control02.ctl','/u04/oradata/GGSRC/control03.ctl'
*.db_block_size=8192
*.db_cache_size=318767104
*.db_domain='US.DELOITTE.COM'
*.db_keep_cache_size=0
*.db_name='GGSRC'
*.db_recycle_cache_size=0
*.db_unique_name='GGSRCPRMY'
*.diagnostic_dest='/u01/app/oracle'
*.dispatchers='(PROTOCOL=TCP) (SERVICE=GGSRCXDB)'
*.fal_client='GGSRCPRMY'
*.fal_server='GGSRCSTBY'
*.java_pool_size=16777216
*.large_pool_size=16777216
*.log_archive_config='DG_CONFIG=(GGSRCPRMY,GGSRCSTBY)'
*.log_archive_dest_1='LOCATION=/archive/GGSRC'
*.log_archive_dest_2='SERVICE=GGSRCSTBY ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=GGSRCSTBY REOPEN=30'
*.log_archive_dest_state_2='ENABLE'
*.log_archive_format='GGSRC_%t_%s_%r.arc'
*.log_file_name_convert='/u10/oradata/GGSRC','/u10/oradata/GGSRC','/u11/oradata/GGSRC','/u11/oradata/GGSRC','/u12/oradata/GGSRC','/u12/oradata/GGSRC','/u13/oradata/GGSRC','/u13/oradata/GGSRC'
*.memory_max_target=2147483648
*.memory_target=1577058304
*.open_cursors=300
*.optimizer_use_invisible_indexes=FALSE
*.pga_aggregate_target=0
*.processes=150
*.recyclebin='OFF'
*.remote_login_passwordfile='EXCLUSIVE'
*.service_names='GGSRC, GGSRCPRMY'
*.sga_target=0
*.shared_pool_size=150994944
*.standby_file_management='AUTO'
*.streams_pool_size=16777216
*.undo_retention=86400
*.undo_tablespace='UNDOTBS1'




Standby PFILE Ex:-

GGSRC.__db_cache_size=369098752
GGSRC.__java_pool_size=33554432
GGSRC.__large_pool_size=16777216
GGSRC.__oracle_base='/u01/app/oracle'#ORACLE_BASE set from environment
GGSRC.__pga_aggregate_target=536870912
GGSRC.__sga_target=1040187392
GGSRC.__shared_io_pool_size=0
GGSRC.__shared_pool_size=587202560
GGSRC.__streams_pool_size=16777216
*._shared_io_pool_size=0
*.audit_file_dest='/u01/app/oracle/admin/GGSRC/adump'
*.audit_trail='db'
*.compatible='11.2.0.0.0'
*.control_files='/u02/oradata/GGSRC/control01.ctl','/u03/oradata/GGSRC/control02.ctl','/u04/oradata/GGSRC/control03.ctl'
*.db_block_size=8192
*.db_cache_size=318767104
*.db_domain='US.DELOITTE.COM'
*.db_keep_cache_size=0
*.db_name='GGSRC'
*.db_recycle_cache_size=0
*.db_unique_name='GGSRCSTBY'
*.diagnostic_dest='/u01/app/oracle'
*.dispatchers='(PROTOCOL=TCP) (SERVICE=GGSRCXDB)'
*.fal_client='GGSRCSTBY'
*.fal_server='GGSRCPRMY'
*.java_pool_size=16777216
*.large_pool_size=16777216
*.log_archive_config='DG_CONFIG=(GGSRCSTBY,GGSRCPRMY)'
*.log_archive_dest_1='LOCATION=/archive/GGSRC'
*.log_archive_dest_2='SERVICE=GGSRCPRMY ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=GGSRCPRMY'
*.log_archive_dest_state_2='ENABLE'
*.log_archive_format='GGSRC_%t_%s_%r.arc'
*.log_file_name_convert='/u10/oradata/GGSRC','/u10/oradata/GGSRC','/u11/oradata/GGSRC','/u11/oradata/GGSRC','/u12/oradata/GGSRC','/u12/oradata/GGSRC','/u13/oradata/GGSRC','/u13/oradata/GGSRC'
*.memory_max_target=2147483648
*.memory_target=1577058304
*.open_cursors=300
*.optimizer_use_invisible_indexes=FALSE
*.pga_aggregate_target=0
*.processes=150
*.recyclebin='OFF'
*.remote_login_passwordfile='EXCLUSIVE'
*.service_names='GGSRC, GGSRCSTBY'
*.sga_target=0
*.shared_pool_size=150994944
*.standby_file_management='AUTO'
*.streams_pool_size=16777216
*.undo_retention=86400
*.undo_tablespace='UNDOTBS1'



#########################################################################################

Change the Protection Modes:-
###########################

SERVICE=ORCLSTBY ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=ORCLSTBY

1) To change to maximum availability:-

(Execute below commands on primary database)

SQL> ALTER SYSTEM SET LOG_ARCHIVE_DEST_2='SERVICE=ORCLSTBY AFFIRM SYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=ORCLSTBY';

System altered.

SQL> alter database set standby database to maximize availability;

Database altered.

SQL> select protection_mode from v$database;

PROTECTION_MODE
--------------------
MAXIMUM AVAILABILITY

2) To change back to maximum performance:-
(Execute below commands on primary database)

SQL> ALTER SYSTEM SET LOG_ARCHIVE_DEST_2='SERVICE=ORCLSTBY NOAFFIRM ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=ORCLSTBY';

System altered.

SQL> ALTER DATABASE SET STANDBY DATABASE TO MAXIMIZE PERFORMANCE;

Database altered.

SQL> select protection_mode from v$database;

PROTECTION_MODE
--------------------
MAXIMUM PERFORMANCE


3) To change to maximum protection:-
(Execute below commands on primary database)

SQL> ALTER SYSTEM SET LOG_ARCHIVE_DEST_2='SERVICE=ORCLSTBY AFFIRM SYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=ORCLSTBY';

System altered.


SQL> shut immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL> startup mount;
ORACLE instance started.

Total System Global Area  849530880 bytes
Fixed Size                  1348244 bytes
Variable Size             524291436 bytes
Database Buffers          318767104 bytes
Redo Buffers                5124096 bytes
Database mounted.
SQL> alter database set standby database to maximize protection;

Database altered.

SQL> alter database open;

Database altered.

SQL> select protection_mode from v$database;

PROTECTION_MODE
--------------------
MAXIMUM PROTECTION


4) To take back to maximum performance:-


SQL> ALTER SYSTEM SET LOG_ARCHIVE_DEST_2='SERVICE=ORCLSTBY NOAFFIRM ASYNC VALID_FOR=(ONLINE_LOGFILES,PRIMARY_ROLE) DB_UNIQUE_NAME=ORCLSTBY' scope=spfile;

System altered.

SQL> alter database set standby database to maximize performance;

Database altered.

SQL> alter database open;

Database altered.

SQL> select protection_mode from v$database;

PROTECTION_MODE
--------------------
MAXIMUM PERFORMANCE


#############################################################################################

Switchover:-
----------

1) On Primary database (dbavm) execute below commands:

SQL> ALTER DATABASE COMMIT TO SWITCHOVER TO STANDBY;

Database altered.

SQL> shut immediate;


SQL> startup nomount;
ORACLE instance started.

Total System Global Area  849530880 bytes
Fixed Size                  1348244 bytes
Variable Size             524291436 bytes
Database Buffers          318767104 bytes
Redo Buffers                5124096 bytes


SQL> alter database mount standby database;

Database altered.

SQL> ALTER DATABASE RECOVER MANAGED STANDBY DATABASE DISCONNECT FROM SESSION;

Database altered.

2) On standby (dbatest) execute below commands:-

SQL> ALTER DATABASE COMMIT TO SWITCHOVER TO PRIMARY;

Database altered.

SQL> shut immediate;
ORA-01109: database not open


Database dismounted.
ORACLE instance shut down.

SQL> startup;
ORACLE instance started.

Total System Global Area  849530880 bytes
Fixed Size                  1348244 bytes
Variable Size             499125612 bytes
Database Buffers          343932928 bytes
Redo Buffers                5124096 bytes
Database mounted.
Database opened.


Now DB in DBAVM become standby and DB in DBATEST become new primary. Check the archive logs switching from primary to standby



Failover:-
##########

(Now DBTEST is new primary and DBVM is new standby, if DBTEST crashes make DBVM as primary using failover method)


1) Shutdown DBTEST (New primary) to show the scenario of primary crash.

2) Now on DBVM (New standby) execute below commands

SQL> ALTER DATABASE RECOVER MANAGED STANDBY DATABASE FINISH;

Database altered.

SQL> ALTER DATABASE ACTIVATE STANDBY DATABASE;

Database altered.

SQL> alter database open;

Database altered.


SQL> select database_role from v$database;

DATABASE_ROLE
----------------
PRIMARY


(The original primary database can now be configured as a standby. The whole setup process must be followed, but this time using the original primary server as the standby.)

###################################################################################

v$archived_log, v$archive_gap

###################################################################################

Active Dataguard
----------------

1) On Standby site execute the below commands:
---------------------------------------------

SQL> alter database recover managed standby database cancel;

Database altered.

SQL> shut immediate;
ORA-01109: database not open


Database dismounted.
ORACLE instance shut down.
SQL> startup mount;
ORACLE instance started.

Total System Global Area  849530880 bytes
Fixed Size                  1348244 bytes
Variable Size             499125612 bytes
Database Buffers          343932928 bytes
Redo Buffers                5124096 bytes
Database mounted.
SQL> alter database open read only;

Database altered.

SQL> ALTER DATABASE RECOVER MANAGED STANDBY DATABASE DISCONNECT FROM SESSION;

Database altered.



Snapshot Standby
----------------

Introduced in 11g, snapshot standby allows the standby database to be opened in read-write mode. 
When switched back into standby mode, all changes made whilst in read-write mode are lost. 
This is achieved using flashback database, but the standby database does not need to have flashback database explicitly enabled to take advantage of this feature, 
thought it works just the same if it is.


1) Convert to snapshot standby:-

(On standby execute below commands)

SQL> ALTER DATABASE RECOVER MANAGED STANDBY DATABASE CANCEL;

Database altered.

SQL> SELECT flashback_on FROM v$database;

FLASHBACK_ON
------------------
NO

SQL> ALTER DATABASE CONVERT TO SNAPSHOT STANDBY;

Database altered.

SQL> alter database open;

Database altered.

SQL> SELECT flashback_on FROM v$database;

FLASHBACK_ON
------------------
RESTORE POINT ONLY

You can now do treat the standby like any read-write database.


2) To convert it back to the physical standby, losing all the changes made since the conversion to snapshot standby, issue the following commands.

SQL> shut immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.

SQL> startup mount;
ORACLE instance started.

Total System Global Area  849530880 bytes
Fixed Size                  1348244 bytes
Variable Size             499125612 bytes
Database Buffers          343932928 bytes
Redo Buffers                5124096 bytes
Database mounted.

SQL> ALTER DATABASE CONVERT TO PHYSICAL STANDBY;

Database altered.

SQL> shut immediate;
ORA-01507: database not mounted


ORACLE instance shut down.

SQL> startup nomount;
ORACLE instance started.

Total System Global Area  849530880 bytes
Fixed Size                  1348244 bytes
Variable Size             499125612 bytes
Database Buffers          343932928 bytes
Redo Buffers                5124096 bytes

SQL> ALTER DATABASE MOUNT STANDBY DATABASE;

Database altered.


SQL> ALTER DATABASE RECOVER MANAGED STANDBY DATABASE DISCONNECT from session;

Database altered.



####################################################################################################

Configure Dataguard Broker:-
--------------------------

(On Primary site, DBAVM)


1) On Primary make sure the listener has below entries and reload it

SID_LIST_LISTENER =
   (SID_LIST =
     (SID_DESC =
         (SID_NAME = PLSExtProc)
         (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (PROGRAM = extproc)
     )
     (SID_DESC =
        (SID_NAME = orcl)
        (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (GLOBAL_DBNAME=orclprmy.mahi.com)
     )
     (SID_DESC =
        (SID_NAME = orcl)
        (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (GLOBAL_DBNAME=orclprmy_dgmgrl.mahi.com)
     )
   )

OUTBOUND_CONNECT_TIMEOUT_LISTENER = 20

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = dbavm.mahi.com)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

ADR_BASE_LISTENER = /u01/app/oracle



[oracle@dbavm admin]$ lsnrctl reload


2) On Standby, have the listener entry like below 

SID_LIST_LISTENER =
   (SID_LIST =
     (SID_DESC =
         (SID_NAME = PLSExtProc)
         (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (PROGRAM = extproc)
     )
     (SID_DESC =
        (SID_NAME = orcl)
        (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (GLOBAL_DBNAME=orclstby.mahi.com)
     )
     (SID_DESC =
        (SID_NAME = orcl)
        (ORACLE_HOME = /u01/app/oracle/product/11.2.0/db)
        (GLOBAL_DBNAME=orclstby_dgmgrl.mahi.com)
     )

   )

OUTBOUND_CONNECT_TIMEOUT_LISTENER = 20

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = TCP)(HOST = dbatest.mahi.com)(PORT = 1521))
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
    )
  )

ADR_BASE_LISTENER = /u01/app/oracle


[oracle@dbatest admin]$ lsnrctl reload

3) Enable dataguard broker on both primary and standby
(Execute below command on both primary and standby)

Primary:- SQL> alter system set dg_broker_start=TRUE;

System altered.

Standby:- SQL> alter system set dg_broker_start=TRUE;

System altered.


It creates broker configuration files on both primary and standby under $ORACLE_HOME/dbs directory when you enable the broker.

4) Start DGMGRL
(on any node, I used it on primary)

[oracle@dbavm dbs]$ dgmgrl
DGMGRL for Linux: Version 11.2.0.3.0 - Production

Copyright (c) 2000, 2009, Oracle. All rights reserved.

Welcome to DGMGRL, type "help" for information.
DGMGRL> connect sys/sys@orclprmy
Connected.
DGMGRL> 

5) Create the Broker configuration

DGMGRL> CREATE CONFIGURATION BTDEMO_DG AS PRIMARY DATABASE IS "BTDEMO_E1AP" CONNECT IDENTIFIER IS "BTDEMO_E1AP";

Configuration "orcl_dg" created with primary database "orclprmy"

6) Add standby database to configuration

DGMGRL> ADD DATABASE 'BTDEMO_E1A' AS CONNECT IDENTIFIER IS 'orclstby';

Database "orclstby" added

7) Enable the configuration

DGMGRL> enable configuration;

Enabled.

8) Show configuration

DGMGRL> show configuration;

Configuration - orcl_dg

  Protection Mode: MaxPerformance
  Databases:
    orclprmy - Primary database
    orclstby - Physical standby database

Fast-Start Failover: DISABLED

Configuration Status:
SUCCESS


********************* don't run it*********************

9) 
DGMGRL> switchover to 'orclstby';
Performing switchover NOW, please wait...
New primary database "orclstby" is opening...
Operation requires shutdown of instance "orcl" on database "orclprmy"
Shutting down instance "orcl"...
ORACLE instance shut down.
Operation requires startup of instance "orcl" on database "orclprmy"
Starting instance "orcl"...
ORACLE instance started.
Database mounted.
Switchover succeeded, new primary is "orclstby"
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
datagurad command and block change tracking comm..

select name,open_mode,database_role from v$database;

>to check log gaps between primary and standby databases...
in primary.
archive log list;

in standby database.
select max(sequence#) from v$archived_log where applied= 'YES';

select process,client_process,status,thread#,sequence#,block#,blocks from v$managed_standby;
has context menu
shut immediate: 
startup nomount;
alter database mount standby database;

alter database recover managed standby database disconnect from session;

ALTER DATABASE RECOVER MANAGED STANDBY DATABASE CANCEL;

=============================================

scp p37262172_190000_Linux-x86-64.zip p6880880_190000_Linux-x86-64.zip oradba@USHDC8522:/oraexp/EMStage/Jan2025;
USAWSTAX05784 oraias...
Elc;30BtpElc;30Btp

===============================
BCT commands.

SELECT * FROM V$BLOCK_CHANGE_TRACKING;
ALTER DATABASE ENABLE BLOCK CHANGE TRACKING USING FILE '/opt/data/EMASYMP/rman_change_track.dbf';
alter database disable block change tracking;


select * from USER_ROLE_PRIVS where USERNAME='CALRAD';
 
select privilege 

from dba_sys_privs 

where grantee='CALRAD' 

order by 1;
 =============================
===================================================================
https://teams.microsoft.com/l/message/19:7e361649996f4f14b68699a70e89940c@thread.v2/1730212184156?context=%7B%22contextType%22%3A%22chat%22%7D


show parameter archive; ---in sdba 

check log_arc_dest _1 and _2 must be enable 

alter system set log_archive_dest_state_2=ENABLE;
 
and if still issus 


dgmgrl /
edit database 'EMASYMP_GDW' set state=online;
 
edit database 'EMASYMP_GDE' set state=apply-on;
 
 
 
SELECT INSTANCE_NAME, STATUS, DATABASE_STATUS FROM V$INSTANCE;
 
select name,open_mode from v$database;
chec k with secondary ta 

and prumary ---alter system switch logfile; to redo files happen in secondary

To check both primary and standby are in sync
Hi Team,

Data guard status is in sync now.

DGMGRL> show configuration;

Configuration - SYMP_DG

  Protection Mode: MaxPerformance
  Members:
  SYMP_HDC - Primary database
    SYMP_NDC - Physical standby database

Fast-Start Failover:  Disabled

Configuration Status:
SUCCESS   (status updated 29 seconds ago)

 ==========================================
 
[usdhc8915 oraias CT]> python Oracle19.0-Upgrade-V1.py
exec(): 0509-036 Cannot load program python because of the following errors:
        0509-150   Dependent module /u01/app/oracle/product/12.2.0.1/db_1/lib/libexpat.a(libexpat.so.1) could not be loaded.
        0509-152   Member libexpat.so.1 is not found in archive

To run the python script first we need to export this command .\\
export LIBPATH=/opt/freeware/lib:$LIBPATH
=====================================
status gather command.
execute dbms_stats.gather_table_stats(ownname => 'GAE17', tabname =>'TEMP_PARAM_POLICY', estimate_percent =>DBMS_STATS.AUTO_SAMPLE_SIZE, method_opt => 'FOR ALL COLUMNS SIZEAUTO');

========================================================================================================
checking account locks

col USERNAME for a15
SELECT username, account_status, created, lock_date, expiry_date
  FROM dba_users
WHERE account_status != 'LOCK';SQL>   2    3

find /u01/app/oracle/admin/TOOLSA/adump -type f -mtime +7 -name '*.aud' -exec rm -f {} \;

/u01/app/oracle/diag/rdbms/orgprod1_e1ap/ORGPROD1/trace
find /u01/app/oracle/diag/rdbms/orgprod1_e1ap/ORGPROD1/trace -type f -mtime +5 -name '*.aud' -exec rm -f {} \;

/u01/app/oracle/diag/rdbms/orgprod1_e1ap/ORGPROD1/trace


find *.trc -mtime +2 -exec rm {} \;
find *.trm -mtime +2 -exec rm {} \;
find /u01/app/oracle/admin/PTST1/adump -type f -mtime +2 -name '*.aud' -exec rm -f {} \;
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Dg related
Highlights and Best Practices

Using incremental backups from SCN is much faster than re-cloning the entire standby, especially with large gaps.
Always back up and catalog (or copy) all files needed before beginning, and make sure MRP is stopped while restoring.
After resync, always verify the log gap is gone and standby resumes applying new logs.

1
Get SCN from standby
2
RMAN incremental backup from SCN on primary
3
Copy backup + controlfile to standby
4
Restore control file, recover database with incremental
5
Restart standby MRP
=======================
Step 1: Get the Standbyâ€™s Current SCN
On the standby database:
SQL-- Code Generated by Sidekick is for learning and experimentation purposes only.
SELECT CURRENT_SCN FROM V$DATABASE;

Note down the returned SCN number.

Step 2: Take Incremental Backup from SCN on Primary
On the primary database (in RMAN):
SQL# Code Generated by Sidekick is for learning and experimentation purposes only.
RUN {
  BACKUP INCREMENTAL FROM SCN <standby_scn_value> DATABASE FORMAT '/tmp/incr_standby.bkp';
}


Replace <standby_scn_value> with the SCN from Step 1.
The backup file will be /tmp/incr_standby.bkp (choose your directory).

(Optional, but recommended): Create a standby control file, especially if standby and primary archive destinations differ.
SQL-- Code Generated by Sidekick is for learning and experimentation purposes only.
ALTER DATABASE CREATE STANDBY CONTROLFILE AS '/tmp/standby_control01.ctl';


Step 3: Copy Files to Standby

Copy the incremental backup (and new standby control file if created) to the standby server using scp, rsync, etc.


Step 4: Restore Incremental Backup on Standby
A. (Optional, but recommended): Shut down and replace standby control file
SQL-- Code Generated by Sidekick is for learning and experimentation purposes only.
SHUTDOWN IMMEDIATE;
STARTUP NOMOUNT;
-- In RMAN:
# Code Generated by Sidekick is for learning and experimentation purposes only.
RESTORE CONTROLFILE FROM '/tmp/standby_control01.ctl';
ALTER DATABASE MOUNT;

B. Catalog the backup if necessary:
SQL# Code Generated by Sidekick is for learning and experimentation purposes only.
CATALOG START WITH '/tmp';

C. Restore and recover the database:
SQL# Code Generated by Sidekick is for learning and experimentation purposes only.
RECOVER DATABASE NOREDO;


NOREDO tells RMAN not to apply any further redo, just the incremental backup.


Step 5: Resume Managed Recovery
Once recovery completes:
SQL-- Code Generated by Sidekick is for learning and experimentation purposes only.
ALTER DATABASE RECOVER MANAGED STANDBY DATABASE USING CURRENT LOGFILE DISCONNECT FROM SESSION;

Or, if not using Real-Time Apply:
SQL-- Code Generated by Sidekick is for learning and experimentation purposes only.
ALTER DATABASE RECOVER MANAGED STANDBY DATABASE DISCONNECT FROM SESSION;
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@2
19c softwareinstallation......
Download the Oracle Database 19C software from below link:
or copy from any other server
Copy the software to the server location : /oraexp/19C_software
Create Oracle Home directory: /u01/app/oracle/product/19.3.0/db_1
cd /u01/app/oracle/product/19.0/db_1
unzip -oq /oraexp/19c_Software/AIX.PPC64_193000_db_home.zip
Open X-session on No-machine NX client by opening terminal.
cd /u01/app/oracle/product/19.0/db_1

Execute ./runInstaller from terminal.
shh -X oraias@servername
We need to run these scripts..root.sh

When facing some issue.

a)Install database/client software only on certified operating system .
b) Following can be used as reference to verify if oracle database/client is certified on an operating system.
Locate Database Server or Client Certification Information on My Oracle Support (Doc ID 1295603.1)
c) Verify /tmp is not set with 'noexec'
d) Run software installation as below
export CV_ASSUME_DISTID=OL7 -- If software is installed on RHEL 8/OL8
cd <software directory>
./runInstaller
Note : Due to security limitations if noexec cannot be removed from /tmp ,temporary directory can be created in a different file system and export TEMP variables as below before running runInstaller
eg:-
1) mkdir -p /opt/app/oracle/tmp
2) export TMPDIR=/opt/app/oracle/tmp
export TMP=/opt/app/oracle/tmp
export TEMP=/opt/app/oracle/tmp
3) ./runInstaller



./runinstaller ....was not working..try this. it works

./runInstaller
ERROR: Unable to verify the graphical display setup. This application requires X display. Make sure that 
xdpyinfo exist under PATH variable.
/u01/app/oracle/product/19.0/db_1/perl/bin/perl: error while loading shared libraries: libnsl.so.1: cannot open 
shared object file: No such file or directory
conn with os team
install this pakage ...  sudo dnf install libnsl
libnsl-2.28-251.el8_10.22.x86_64
libnsl2-1.2.0-2.20180605git4a062cf.el8.x86_64
setup display 
export CV_ASSUME_DISTID=OL8
./runInstaller -ignorePrereq -J"-Doracle.install.database.validate.supportedOSCheck=false"


export ORACLE_HOME=/u01/app/oracle/product/19.0/db_1
export PATH=$ORACLE_HOME/OPatch:$PATH
can you please change the permission of /uo1/app
######################################33
datafile related
To check the total usage of datafile.
----------------------------------------------------------
SET PAGESIZE 140 LINESIZE 200;

set colsep |
 
SELECT tablespace_name,

       size_mb,

       free_mb,

       max_size_mb,

       max_free_mb,

       TRUNC((max_free_mb/max_size_mb) * 100) AS free_pct,

       ROUND((max_size_mb-max_free_mb)/max_size_mb*10,2) AS used_pct

FROM   (

        SELECT a.tablespace_name,

               b.size_mb,

               a.free_mb,

               b.max_size_mb,

               a.free_mb + (b.max_size_mb - b.size_mb) AS max_free_mb

        FROM   (SELECT tablespace_name,

                       TRUNC(SUM(bytes)/1024/1024) AS free_mb

                FROM   dba_free_space

                GROUP BY tablespace_name) a,

               (SELECT tablespace_name,

                       TRUNC(SUM(bytes)/1024/1024) AS size_mb,

                       TRUNC(SUM(GREATEST(bytes,maxbytes))/1024/1024) AS max_size_mb

                FROM   dba_data_files

                GROUP BY tablespace_name) b

        WHERE  a.tablespace_name = b.tablespace_name

       ) 

	   where tablespace_name = 'COSTPOINT_RPTDATA'

ORDER BY tablespace_name;
 

SELECT
    TABLESPACE_NAME,
    SUM(BYTES_USED) / 1024 / 1024 AS USED_MB,
    SUM(BYTES_FREE) / 1024 / 1024 AS FREE_MB,
    SUM(BYTES) / 1024 / 1024 AS TOTAL_MB,
    ROUND((SUM(BYTES_USED) / SUM(BYTES)) * 100, 2) AS PERCENT_USED
FROM
    V$TEMP_SPACE_HEADER
GROUP BY
    TABLESPACE_NAME;
SELECT df.tablespace_name "Tablespace",
  totalusedspace "Used MB",
  (df.totalspace - tu.totalusedspace) "Free MB",
  df.totalspace "Total MB",
  ROUND(100 * ( (df.totalspace - tu.totalusedspace)/ df.totalspace)) "% Free"
FROM
  (SELECT tablespace_name,
    ROUND(SUM(bytes) / 1048576) TotalSpace
  FROM dba_data_files
  GROUP BY tablespace_name
  ) df,
  (SELECT ROUND(SUM(bytes)/(1024*1024)) totalusedspace,
    tablespace_name
  FROM dba_segments
  GROUP BY tablespace_name
  ) tu
WHERE df.tablespace_name = 'COSTPOINT_DATA';
----------------------------------------------------------------
To check how many datafiles are there in a tablespace


select tablespace_name, status from dba_tablespaces;
 
 
 ======================================================
SELECT TABLESPACE_NAME, BYTES/1024/1024 AS MB_USED, MAXBYTES/1024/1024 AS MB_MAX
    FROM DBA_DATA_FILES
    WHERE TABLESPACE_NAME = 'COSTPOINT_RPTDATA'; 



-- Code Generated by Sidekick is for learning and experimentation purposes only.
SELECT
    df.tablespace_name,
    ROUND(SUM(df.bytes) / (1024 * 1024), 2) AS total_size_mb,
    ROUND(SUM(fs.bytes) / (1024 * 1024), 2) AS free_size_mb,
    ROUND((SUM(df.bytes) - SUM(fs.bytes)) / (1024 * 1024), 2) AS used_size_mb,
    df.autoextensible AS auto_extend
FROM
    dba_data_files df
LEFT JOIN
    dba_free_space fs ON df.tablespace_name = fs.tablespace_name
GROUP BY
    df.tablespace_name, df.autoextensible
ORDER BY
    'SYSAUX';
	
alter database datafile 49 resize 90M;


TABLESPACE_NAME                   MB_USED     MB_MAX
------------------------------ ---------- ----------
RCAT_ASP2                              60          0



COLUMN file_name FORMAT A70
SELECT file_id,
       file_name,
       ROUND(bytes/1024/1024) AS size_mb,
       ROUND(maxbytes/1024/1024) AS max_size_mb,
       autoextensible,
       increment_by,
       status
FROM   dba_data_files
WHERE  tablespace_name ='RCAT_PTLMIRP'
ORDER BY file_id;

ALTER DATABASE DATAFILE '/opt/data/TOOLSA/RCAT_PTLMIRP_01.dbf' RESIZE 200M;

I have already changed the dbora file script.I have worked with OS team. 


/delphix/CPAAV/datafile/opt/data/CPAP/DELOITTE_188.dbf

Alter tablespace COSTPOINT_DATA add datafile '/delphix/CPAAV/datafile/opt/data/CPAP/COSTPOINT_DATA_195.dbf'  SIZE 2048M AUTOEXTEND ON MAXSIZE 30720M;

Alter tablespace TEMP add tempfile '/opt/data/CT/temp03.dbf'  size 500M autoextend on;

SQL> update props$ set value$=0 where name='DST_SECONDARY_TT_VERSION';

1 row updated.

SQL> update props$ set value$='NONE' where name='DST_UPGRADE_STATE';

1 row updated.

SQL> commit;

Commit complete.

SQL> select * from props$ where name like 'DST%';

NAME 
-----------------------------------------
VALUE$ 
-----------------------------------------
COMMENT$ 
-----------------------------------------
DST_UPGRADE_STATE 
NONE 
State of Day Light Saving Time Upgrade 

DST_PRIMARY_TT_VERSION 
14 
Version of primary timezone data file 

DST_SECONDARY_TT_VERSION 
0 
Version of secondary timezone data file



3 rows selected.
---
Solution:
Execute the following scripts to fix timezone problem.



SQL> /

   FILE_ID FILE_NAME                                                       SIZE_MB MAX_SIZE_MB AUT INCREMENT_BY STATUS
---------- ------------------------------------------------------------ ---------- ----------- --- ------------ ---------
     25   /opt/idx/DEORGS1/CALENDAR_DAY_INDEX_20.dbf                        14005       30720 YES        12800 AVAILABLE
     26   /opt/idx/DEORGS1/CALENDAR_DAY_INDEX_19.dbf                        14905       30720 YES        12800 AVAILABLE
     27   /opt/idx/DEORGS1/CALENDAR_DAY_INDEX_18.dbf                        17705       30720 YES        12800 AVAILABLE
     


=====================================
set pagesize 300 linesize 200
SELECT tablespace_name,
       size_mb,
       free_mb,
       max_size_mb,
       max_free_mb,
       TRUNC((max_free_mb / max_size_mb) * 100) AS free_pct,
       ROUND((max_size_mb - max_free_mb) / max_size_mb * 100, 2) AS used_pct
FROM   (
         SELECT a.tablespace_name,
                b.size_mb,
                a.free_mb,
                b.max_size_mb,
                a.free_mb + (b.max_size_mb - b.size_mb) AS max_free_mb
         FROM   (SELECT tablespace_name,
                        TRUNC(SUM(bytes) / 1024 / 1024) AS free_mb
                 FROM   dba_free_space
                 GROUP BY tablespace_name) a,
                (SELECT tablespace_name,
                        TRUNC(SUM(bytes) / 1024 / 1024) AS size_mb,
                        TRUNC(SUM(GREATEST(bytes, maxbytes)) / 1024 / 1024) AS max_size_mb
                 FROM   dba_data_files
                 GROUP BY tablespace_name) b
         WHERE  a.tablespace_name = b.tablespace_name
       )
WHERE  tablespace_name = 'RCAT_COS2'
ORDER BY tablespace_name;

SELECT file_name, bytes/1024/1024 AS MB, autoextensible
FROM dba_data_files
WHERE tablespace_name = 'RCAT_COS1RCAT_COS1';



SQL> startup
ORA-01261: Parameter db_create_file_dest destination string cannot be translated
ORA-01262: Stat failed on a file destination directory
IBM AIX RISC System/6000 Error: 2: No such file or directory
SQL>






euawstaxbc00022 login issue
SELECT name FROM v$datafile;

Tablespace                        Used MB    Free MB   Total MB     % Free
------------------------------ ---------- ---------- ---------- ----------
COSTPOINT_RPTDATA                    1516    2368020    2369536        100
COSTPOINT_RPTDATA                       4    2369532    2369536        100
COSTPOINT_RPTDATA                    2884    2366652    2369536        100
COSTPOINT_RPTDATA                    1099    2368437    2369536        100
COSTPOINT_RPTDATA                    2418    2367118    2369536        100
COSTPOINT_RPTDATA                  286553    2082983    2369536         88
COSTPOINT_RPTDATA                     916    2368620    2369536        100
COSTPOINT_RPTDATA                     496    2369040    2369536        100
COSTPOINT_RPTDATA                 1575732     793804    2369536         34
COSTPOINT_RPTDATA                  180751    2188785    2369536         92
COSTPOINT_RPTDATA                  190402    2179134    2369536         92

Tablespace                        Used MB    Free MB   Total MB     % Free
------------------------------ ---------- ---------- ---------- ----------
COSTPOINT_RPTDATA                   85520    2284016    2369536         96
COSTPOINT_RPTDATA                     692    2368844    2369536        100
COSTPOINT_RPTDATA                       0    2369536    2369536        100
COSTPOINT_RPTDATA                 2280639      88897    2369536          4

ORA-00059: maximum number of DB_FILES exceeded
ALTER SYSTEM SET db_files = 300 SCOPE=SPFILE;

KFORBES


-- Code Generated by Sidekick is for learning and experimentation purposes only.
SELECT
    a.TABLESPACE_NAME,
    a.FILE_NAME,
    a.BYTES / 1024 / 1024 AS SIZE_MB,
    NVL(b.FREE_MB, 0) AS FREE_MB,
    (a.BYTES / 1024 / 1024) - NVL(b.FREE_MB, 0) AS USED_MB
FROM
    DBA_DATA_FILES a
    LEFT JOIN (
        SELECT
            FILE_ID,
            SUM(BYTES) / 1024 / 1024 AS FREE_MB
        FROM
            DBA_FREE_SPACE
        GROUP BY
            FILE_ID
    ) b ON a.FILE_ID = b.FILE_ID
WHERE
    a.TABLESPACE_NAME = 'COSTPOINT_DATA';
TA';
###############################################################33
dataguard commands'''

select name,open_mode,database_role from v$database;

>to check log gaps between primary and standby databases...
in primary.
archive log list;

in standby database.
select max(sequence#) from v$archived_log where applied= 'YES';

select process,client_process,status,thread#,sequence#,block#,blocks from v$managed_standby;
has context menu
shut immediate: 
startup nomount;
alter database mount standby database;

alter database recover managed standby database disconnect from session;

ALTER DATABASE RECOVER MANAGED STANDBY DATABASE CANCEL;

=============================================

scp p37262172_190000_Linux-x86-64.zip p6880880_190000_Linux-x86-64.zip oradba@USHDC8522:/oraexp/EMStage/Jan2025;
USAWSTAX05784 oraias...
Elc;30BtpElc;30Btp

===============================
BCT commands.

SELECT * FROM V$BLOCK_CHANGE_TRACKING;
ALTER DATABASE ENABLE BLOCK CHANGE TRACKING USING FILE '/opt/data/EMASYMP/rman_change_track.dbf';
alter database disable block change tracking;


select * from USER_ROLE_PRIVS where USERNAME='CALRAD';
 
select privilege 

from dba_sys_privs 

where grantee='CALRAD' 

order by 1;
 =============================
===================================================================
https://teams.microsoft.com/l/message/19:7e361649996f4f14b68699a70e89940c@thread.v2/1730212184156?context=%7B%22contextType%22%3A%22chat%22%7D


show parameter archive; ---in sdba 

check log_arc_dest _1 and _2 must be enable 

alter system set log_archive_dest_state_2=ENABLE;
 
and if still issus 


dgmgrl /
edit database 'EMASYMP_GDW' set state=online;
 
edit database 'EMASYMP_GDE' set state=apply-on;
 
 
 
SELECT INSTANCE_NAME, STATUS, DATABASE_STATUS FROM V$INSTANCE;
 
select name,open_mode from v$database;
chec k with secondary ta 

and prumary ---alter system switch logfile; to redo files happen in secondary

To check both primary and standby are in sync
Hi Team,

Data guard status is in sync now.

DGMGRL> show configuration;

Configuration - SYMP_DG

  Protection Mode: MaxPerformance
  Members:
  SYMP_HDC - Primary database
    SYMP_NDC - Physical standby database

Fast-Start Failover:  Disabled

Configuration Status:
SUCCESS   (status updated 29 seconds ago)
Dataguard commands...
select name,open_mode,database_role from v$database;

>to check log gaps between primary and standby databases...
For primary...
archive log list;

For standby..........
select max(sequence#) from v$archived_log where applied= 'YES';
-----------------------------------------------------------------
How to restart standby database..
shutimmediate;
startup nomount;
alter database mount standby database;
alter database recover managed standby database disconnect from session;
=========
SELECT profile FROM dba_users WHERE username = 'USER28';
=============================
Switch over activity


check status and configuration
 
----st to check sys passowrd 

dgmgrl /

show configuration;
----take the scree shots before and after failover 
dgmgrl /

Connect SYS/M4tgQ1yh@IHR1_E1AP
Show configuration;

Switchover to 'IHR1_W1AS';  
 
---screen shot failover havppen
 
check SIDPrimary is in mount mode and in sync or not-------- select open_mode from v$database;
alter system switch logfile;
 
Check case sensitive parameter in DB is TRUE
in sdba :  show parameter sensitive
 
show parameter service; ---for conection the database to tell the users 



=======
queries to start active dataguard standby db..
startup mount;
alter database open read only;
alter database recover managed standby database using current logfile disconnect from session;



 ==========================================
 
[usdhc8915 oraias CT]> python Oracle19.0-Upgrade-V1.py
exec(): 0509-036 Cannot load program python because of the following errors:
        0509-150   Dependent module /u01/app/oracle/product/12.2.0.1/db_1/lib/libexpat.a(libexpat.so.1) could not be loaded.
        0509-152   Member libexpat.so.1 is not found in archive

To run the python script first we need to export this command .\\
export LIBPATH=/opt/freeware/lib:$LIBPATH
=====================================
status gather command.
execute dbms_stats.gather_table_stats(ownname => 'GAE17', tabname =>'TEMP_PARAM_POLICY', estimate_percent =>DBMS_STATS.AUTO_SAMPLE_SIZE, method_opt => 'FOR ALL COLUMNS SIZEAUTO');

========================================================================================================
checking account locks

col USERNAME for a15
SELECT username, account_status, created, lock_date, expiry_date
  FROM dba_users
WHERE account_status != 'LOCK';SQL>   2    3

find /u01/app/oracle/admin/TOOLSA/adump -type f -mtime +7 -name '*.aud' -exec rm -f {} \;

/u01/app/oracle/diag/rdbms/orgprod1_e1ap/ORGPROD1/trace
find /u01/app/oracle/diag/rdbms/orgprod1_e1ap/ORGPROD1/trace -type f -mtime +5 -name '*.aud' -exec rm -f {} \;

/u01/app/oracle/diag/rdbms/orgprod1_e1ap/ORGPROD1/trace


find *.trc -mtime +2 -exec rm {} \;
find *.trm -mtime +2 -exec rm {} \;
find /u01/app/oracle/admin/PTST1/adump -type f -mtime +2 -name '*.aud' -exec rm -f {} \;
--------------------
DGMGRL> show configuration

Configuration - SCPP_HDC.US.DELOITTE.COM

  Protection Mode: MaxPerformance
  Members:
  SCPP_HDC - Primary database
    SCPP_NDC - Physical standby database
    SCPP_RPT - Physical standby database

Fast-Start Failover:  Disabled

Configuration Status:
SUCCESS   (status updated 53 seconds ago)

TY5_nxK6#3H2

TY5_nxK6#1H1

scp Patch_Script_Execute.ksh oradba@USHDC8522:/oraexp/EMStage
=======
SQL>
SQL> select max(sequence#) from v$archived_log where applied= 'YES';

MAX(SEQUENCE#)
--------------
         13939

SQL> archive log list
Database log mode              Archive Mode
Automatic archival             Enabled
Archive destination            /archive/APASYMP
Oldest online log sequence     13
Next log sequence to archive   16
Current log sequence           16
SQL>
------------f
col STATUS format a10
col hrs format 999.99
select SESSION_KEY, INPUT_TYPE, STATUS,to_char(START_TIME,'mm/dd/yy hh24:mi') start_time,
to_char(END_TIME,'mm/dd/yy hh24:mi') end_time,elapsed_seconds/3600 hrs from V$RMAN_BACKUP_JOB_DETAILS
order by session_key;

---------------------
[usawstaxbc00049 oraias BT]> pwd
/u01/app/oracle/product/13.4.0/agent13c/agent_inst/sysman/emd
[usawstaxbc00

[ushdc87041 orasym SYMN2P]> du -sh *
30M     admin
32M     audit
124K    bin
631M    cfgtoollogs
4.0K    checkpoints
22M     dba_scripts
553M    diag
92K     DiscoverTargetCatalog.xls
52K     IBM
16K     lost+found
4.0K    nohup.out
344K    oradiag_orasym
26M     oraInventory
47G     product
7.6M    scripts
25M     SYMNDLP_metadata.dmp
4.0K    SYMNDLP_metadata.log
4.0K    tdpoerror.log
8.0K    user_creation.sql
[ushdc87041 orasym SYMN2P]>
usawstaxbc00049
ushdc87041


SELECT process, status, sequence#, block#, blocks 
FROM v$managed_standby 
WHERE process = 'MRP';

RUN
{
allocate channel ch1 type disk format '/efs/catalog/usawstaxst00432/TOOLSB/ARCHIVELOGS/al_%t_%s_p%p';
sql 'alter system archive log current';
sql 'alter database backup controlfile to trace';
backup archivelog all delete all input;
RELEASE channel ch1;
}

exit;
=========exit;
Backup mountpoint is not availabel...
[usawstaxst00432 oraias TOOLSB]> df -h
Filesystem                           Size  Used Avail Use% Mounted on
devtmpfs                              16G     0   16G   0% /dev
tmpfs                                 16G  7.3G  8.1G  48% /dev/shm
tmpfs                                 16G  1.7G   14G  11% /run
tmpfs                                 16G     0   16G   0% /sys/fs/cgroup
/dev/nvme0n1p2                        90G   42G   49G  46% /
/dev/mapper/vgOracle-oracle_rdo       64G  4.3G   57G   8% /opt/rdo
/dev/mapper/vgOracle-u01             105G   81G   20G  81% /u01/app/oracle
/dev/mapper/vgOracle-archive_TOOLSB   25G   24G  9.6M 100% /archive/TOOLSB
/dev/mapper/vgOracle-archive_TOOLSA   25G  202M   23G   1% /archive/TOOLSA
/dev/mapper/vgOracle-oracle_ctl       64G   63M   61G   1% /opt/ctl
/dev/mapper/vgOracle-oracle_databkp   99G  7.8G   86G   9% /opt/databkp
/dev/mapper/vgOracle-oracle_data      64G   36G   25G  60% /opt/data
/dev/mapper/vgOracle-oracle_oraexp    50G  7.6G   39G  17% /oraexp
/dev/mapper/vgOracle-oracle_idx       64G   28K   61G   1% /opt/idx
/dev/mapper/vgOracle-lvtmp            25G  1.7M   24G   1% /tmp
tmpfs                                3.1G     0  3.1G   0% /run/user/54321
tmpfs                                3.1G     0  3.1G   0% /run/user/0
[usawstaxst00432 oraias TOOLSB]> cd /efs/catalog
-bash: cd: /efs/catalog: No such file or directory
[usawstaxst00432 oraias TOOLSB]> cd
[usawstaxst00432 oraias TOOLSB]> cd /efs/catalog
-bash: cd: /efs/catalog: No such file or directory
[usawstaxst00432 oraias TOOLSB]> cd /efs
[usawstaxst00432 oraias TOOLSB]> ll
==========
space issue...
[euawstaxst00016 oraias DEORGS1]> pwd
/u01/app/oracle/diag/clients/user_oraias/host_862561039_110/trace
===========

[usawstaxde00717 oraias PTLDV1]> cat GESRPDV1_run_backup_archivelog.rman
RUN
{
allocate channel ch1 type disk format '/efs-ges-backup-west/ges-non-prod/usawstaxde00717/GESRPDV1/ARCHIVELOGS/al_%t_%s_p%p';
#sql 'alter system archive log current';
#sql 'alter database backup controlfile to trace';
backup archivelog all delete all input;
RELEASE channel ch1;
}

exit;

Hi Team, we are facing issue in one of the COS2 standby  database logs are shipping but not applying 
already checked mrp, space listener.
On primary server  USAWSTAX05395 and standby USAWSTAXBC00049 COS2 db is in snyc
But in this standby server usawstaxbc00051 logs are not applying

SELECT GROUP#, MEMBER, BYTES FROM V$LOGFILE;
ALTER SYSTEM SWITCH LOGFILE;
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
patching steps

Download the patch file

Cross check the server

 

check the space you are going to unzip patch 
cd /oraexp/EMStage/Oct2025
mkdir Oct2025

Check opatch version
mv OPatch OPatch_oct25
copy opatch file to $OH
cp -r OPatch $OH

unzip opatch
 
check opatch version again

unzip patch 

cd bin 

dbshutALL.ksh


apply two patched

opatch lsinventory |grep applied

after patching 

in primary,,,,

cd bin

startdbALLUpgrade.ksh

startup upgrade;

cd /oraexp/EMStage 

Patch_Script_Execute.ksh      (db patch in primary onlyh )
cd $ORACLE_HOME/OPatch
./datapatch -verbose

cd bin

  or
shut immediate.

dbstartALL.ksh
lsnrctl status 
fp smon
. set_AH

emctl start agent

emctl status agent

in primary only.....

select name,open_mode from v$database;

set pages 300 lines 300         
 
col action form a12
 
col version form a40
 
col description form a70
 
col action_date form a20
 
col ACTION_TIME for a38 

select PATCH_ID,ACTION,STATUS,ACTION_TIME,DESCRIPTION from dba_registry_sqlpatch order by ACTION_TIME;

=====================================
For standby database
start listener

lsnrctl status 
lsnrctl start
. set_AH
emctl start agent 
emctl status agent

startup nomount;

alter database mount standby database;
in primary
dgmgrl /
 
show configuration; to check the sync
 

ps -ef | grep [o]patch

SQL> startup upgrade;
=============================================================

SELECT s.sid,
       s.serial#,
       s.username,
       s.status,
       s.sql_id,
       s.sql_child_number
FROM v$session s
WHERE s.status = 'ACTIVE'
  AND s.username IS NOT NULL
  AND s.sql_id IS NOT NULL;
  
  
SELECT sql_id, sql_text
FROM v$sql
WHERE sql_id = '3mwnvaww8p4h4';  


manually ...
./datapatch -verbose




export ORACLE_HOME=/u01/app/oracle/product/19.0/db_1
export PATH=$PATH:$ORACLE_HOME



export PATH=$ORACLE_HOME/OPatch:$PATH






RUN
        {
        allocate channel ch1 type disk;
        allocate channel ch2 type disk;
        allocate channel ch3 type disk;
        allocate channel ch4 type disk;
        sql 'alter system archive log current';
        sql 'alter database backup controlfile to trace';
        BACKUP archivelog all TAG 'ARC_LOG_Bckp'
        delete all input
        FORMAT '$BackupFileDirectory/al_%t_%s_p%p'
        CURRENT CONTROLFILE TAG 'cf1'
        FORMAT '$BackupFileDirectory/cf_%t_%s_p%p'
        SPFILE TAG 'sp1'
        FORMAT '$BackupFileDirectory/sp_%t_%s_p%p';
        RELEASE channel ch1;
        RELEASE channel ch2;
        RELEASE channel ch3;
        RELEASE channel ch4;
        }
       exit;
	   
	   
	   select file_id ,file_name from dba_tablespaces where tablespace_name=
	   
	   
	   
	   
	   
	   
	   WARNING: Following components are NOT in a valid state.
         This could cause patching failure. If it does, consider
         running utlrp.sql to bring components to VALID state.
         Then, re-run datapatch.

         CT : XOQ [INVALID]
BT:/u01/app/oracle/product/19.0/db_1:Y
ASP1:/u01/app/oracle/product/19.0/db_1:Y
ASP2:/u01/app/oracle/product/19.0/db_1:Y
ASP3:/u01/app/oracle/product/19.0/db_1:Y
COS1:/u01/app/oracle/product/19.0/db_1:Y
COS2:/u01/app/oracle/product/19.0/db_1:Y
COP1:/u01/app/oracle/product/19.0/db_1:Y
IHR1:/u01/app/oracle/product/19.0/db_1:Y
IHR2:/u01/app/oracle/product/19.0/db_1:Y
IHR3:/u01/app/oracle/product/19.0/db_1:Y
COP2:/u01/app/oracle/product/19.0/db_1:Y


startup nomount;

alter database mount standby database;



ORA-32004: obsolete or deprecated parameter(s) specified for RDBMS instance

Hi Team i was about to start working on dataguard Matt pinged me Antonio and 
Michael work on the standby database build.

drwxr-x--- 15 oradba oinstall  4096 Oct 29 15:15 OPatch
[ushydi0208 oradba TEST1]>  opatch version
/u01/app/oracle/product/19.0/db_1/OPatch/opatch: line 839: [: too many arguments
/u01/app/oracle/product/19.0/db_1/OPatch/opatch: line 839: [: too many arguments
Java (1.7) could not be located. OPatch cannot proceed!
OPatch returns with error code = 1
[ushydi0208 oradba TEST1]> ls -lrt



cd $ORACLE_HOME/OPatch
[usawstax05580 oraias ASP2]> ./datapatch -verbose
SQL Patching tool version 19.29.0.0.0 Production on Wed Oct 29 12:14:57 2025
Copyright (c) 2012, 2025, Oracle.  All rights reserved.

Log file for this invocation: /u01/app/oracle/cfgtoollogs/sqlpatch/sqlpatch_3020923_2025_10_29_12_14_57/sqlpatch_invocation.log

Connecting to database...OK
Gathering database info...done
Bootstrapping registry and package to current versions...done
Error: prereq checks failed!
verify_queryable_inventory returned ORA-20001: Latest xml inventory is not loaded into table
Prereq check failed, exiting without installing any patches.

Please refer to MOS Note 1609718.1 and/or the invocation log
/u01/app/oracle/cfgtoollogs/sqlpatch/sqlpatch_3020923_2025_10_29_12_14_57/sqlpatch_invocation.log
for information on how to resolve the above errors.

SQL Patching tool complete on Wed Oct 29 12:15:26 2025

python learning
===============
udemy 
inian axen


KZOLKIEWICZ
098765432

LIBPATH=/u01/app/oracle/product/13.4.0/agent13c/agent_13.4.0.0.0/lib:/u01/app/oracle/product/13.4.0/agent13c/agent_13.4.0.0.0/jlib
LD_LIBRARYPATH=/u01/app/oracle/product/13.4.0/agent13c/agent_13.4.0.0.0/lib:/u01/app/oracle/product/13.4.0/agent13c/agent_13.4.0.0.0/jlib

export AGENT_HOME=/u01/app/oracle/product/13.4.0/agent13c/agent_13.4.0.0.0
export LD_LIBRARYPATH=$ORACLE_HOME/lib:$LD_LIBRARYPATH
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
basic related...
USAWSENAQA00116 oradtk CPAQ
USAWSENAST00157 oradtk CPAS
CPAP primary
usawsena00371 oradtk CPAP
CPAP stadby
[USAWSENABC00051 oradtk CPAP]


[ oracls CLSQ]>
USAZUAUDDE90001       /mount/qausclsstrv2use2db/qafs
                      /mount/prdusclsstrv2use2db/prdfs
staging  
usazuaud90011 CLSS  
b8;ssL12b8;ssL12

PROD1
USAZUAUD90021  ....
USAZUAUD90031 BCP 
USAZUAUD90022  BCP  	
b8;ssL12
PROD2 HA
new prod mirrio -- PTLMIRP DB NAME--  USAWSTAX05370	,PTLP
USAWSTAX05823

CROSSCHECK BACKUP;

b8;ssL12   by9500082TS
  	 
b8;ssL12
Hostname: usgdcenaprd0032
USGDCENAPRD0032
      symns
b8;ssL12b8;ssL12
IP Address: 10.28.38.196
Location : Atlanta (BCP)

  
Prod DB2 - 10.212.147.28
BCP - 10.213.12.8
usawsenaqa00110  	CPAQ CPAA   .>.>>..     

usawstaxde00915 oraias  passwd b8;ssL12b8;ssL12

TOOLSA SERVER
usawstaxst00586
b8;ssL12b8;ssL12

/u01/app/oracle/scripts/maint
/u01/app/oracle/scripts/log/cron/


dba_admin
Elc;30Btp
USAWSTAX05784 oraias...
Elc;30BtpElc;30Btp
Renov@tion...deloitte wifi password
sudo su -..............switch to root user
 
link for the documents for install patching etc ..
https://teams.microsoft.com/l/messagte/19:7e361649996f4f14b68699a70e89940c@thread.v2/1730212184156?context=%7B%22contextType%22%3A%22chat%22%7D
. set_OMS----To set OEM HOME path(only applicable in oem servers)

OEM .. related
cd /u01/app/oracle/product/13.4.0/agent13c/agent_inst/bin

First set the environment ..to check the status of agent,
. set_AH
emctl status agent
emctl start agent
emctl stop agent       emctl stop agent -f
has context menu

when Agent stuck try this command ]
emctl secure agent


first we have to connect to jump server --oradba/oradba
ssh username@servername 
fp smon ---for checking database status whether it up/down
dbname---to set the environment (instead of . oraenv)

sdba    (it will connect us to sqlplus

oe      to check environment(shortcut)
ta      for alertlog ,
st      to check password of all users.


[usawstax05370 oraias GESAPPR1]> st |grep GESAPPR1 |grep DOCAPP

GESAPPR1:DOCAPP:QhGPLkJ#BrqD1A*6d9:DOCAPP[4:31 PM] , 

----------------------------------------------------------------------------------------------------



lINK FOR OEM......
https://ushdc8710.us.deloitte.com:7799/em/faces/logon/core-uifwk-console-login
 
username.... dba_admin
 
password.....Elc;30Btp

----------------------------------------------------------------------------------------------------

For server related issue
US TI Open Systems Services <USTIOpenSystemsServices@deloitte.com>

 TSM/TDP On-prem backup issues 
US TI Data Protection Services <USTIDataProtectionServices@deloitte.com>


GTS GTI Firewall Management
 Services Operations Leads <GTSGTIFirewallManagementServicesOperationsLeads@deloitte.com>

 
US ITS Network Data Center Services
Network Team <USITSNetworkDataCenterServicesNetworkTeam@deloitte.com>
=Incident (ORA 800) detected in /u01/app/oracle/diag/rdbms/scppv_g/SCPPV_G/alert/log.xml at time/line number: Wed Jul 31 13:34:53 2024/26207.

Please check with -     US TI Storage <USTIStorage@deloitte.com>
 
They will add
 
Anil Taras - POC
 
We have blocking in PTLQA1.  Who on GES Dev Team can we reach out to?           
Sainath, Samyuktha and Sarat are the right people to reach out to

 
[4:25 PM] Taragalla, venkataratnam
[usawstax05370 oraias GESAPPR1]> st |grep GER1 |grep DOCAPP

GESAPPR1:DOCAPP:QhGPLkJ#BrqD1A*6d9:DOCAPP[4:31 PM] , 

lINK FOR OEM......
https://ushdc8710.us.deloitte.com:7799/em/faces/logon/core-uifwk-console-login
 

 

Pletcher, Clifford <cpletcher@deloitte.com>
/u01/app/oracle/scripts/ges/ora_dba 


/u01/app/oracle/scripts/ges/ora_dba
IHR
[usawstax05395 oraias IHR3]>  . .bash_profi... by Kumari, Babita
[usawstax05395 oraias IHR3]>  . .bash_profile
[usawstax05395 oraias COP2]> pwd
/u01/app/oracle

Begin Reference, Oracle support SR- 1. De... 
7/15/2024 3:47 PM
Oracle support SR- 1. Deltek 0% space available 2. Emea dlp( datalose preventions), nodf no alerts from oem
Work on it.
ON PREM: OH - /u01/app/oracle SYS, SYSTEM -... by Kumari, Babita

ON PREM:
OH - /u01/app/oracle
SYS, SYSTEM - /u02/oradata/DB_NAME
clients tbs - /u03/oradata and /u04/oradata
temp - /u05/oradata
undo - /u06/oradata
redo - /u10 to /u13
ctl - /u14 to /u16
has context menu
GES AND USER ACCOUNTS ARE CONNECTED( FOR IHR ONLY)
eg ..GES1,GES...etc

echo "Test email" | mail -S smtp="smtp.us.deloitte.com" -s "Test Subject" balimalik@deloitte.com


INF-Database Services-Oracle
  
 
 
SRC /TOC by Kumari, Babita
Kumari, Babita
3:27 PM
SRC /TOC
rfcW_DB Services_Oracle by Kumari, Babita
Kumari, Babita
3:35 PM
rfcW_DB Services_Oracle
Link Service Portal - Global Technology Ser... by Kumari, Babita
Kumari, Babita
4:08 PM
Service Portal - Global Technology Services Self-Service (service-now.com)
Link Secret Server (deloitte.com) by Kumari, Babita
4:19 PM
Secret Server (deloitte.com)
Class 2 - Aug 21 - 22 Link https://www.even... by Taragalla, venkataratnam
4:23 PM
Class 2 - Aug 21 - 22
https://www.eventbrite.com/e/postgresql-training-virtual-ist-tickets-871864459067?aff=oddtdtcreator
Ali   Malik,   Bilal   Mahesh   Babu,   Dod... by Taragalla, venkataratnam
Taragalla, venkataratnam
4:23 PM
Ali Malik, Bilal Mahesh Babu, Dodla can you please check to regasiter this link for training 
4:23 PM
Can you join the call for a min by Kumari, Babita
4:23 PM
dbsnmp/sp58z2c by Kumari, Babita
4:26 PM
dbsnmp/sp58z2c
SYSMAN/oem13cbe by Kumari, Babita
4:26 PM
SYSMAN/oem13cbe
has context menu
16 apps from ges
BCP activity tomorrow 
patching ac
--------------------------------
when agent is not working 
cd /u01/app/oracle/product/13.4.0/agent13c/agent_inst/bin.

---------------------
Dommati Anvesh / INF-Open Systems
=======================

cp -r /export /orainstall
================================
telnet <servername> portno 
for agent its 3872


for crontab access etc 
Nichols, Chris

bkp teams
Lakshmi Suneetha, Kanchi
-----------------------------------
agent related  when agent is not showing anything
Host=USAWSTAXST00327.us.deloitte.com 
Target type=Host 
Target name=USAWSTAXST00327.us.deloitte.com 
Categories=Availability 
Message=Agent Unreachable (REASON = unable to connect to http server at https://USAWSTAXST00327.us.deloitte.com:3872/emd/main/. [handshake has no peer]). Host is Unreachable (REASON = Internal Error pinging the host for EMD_URL https://USAWSTAXST00327.us.deloitte.com:3872/emd/main/.Cannot run program "/bin/ping": error=2, A file or directory in the path name does not exist.).
................ 

fp 13.4 
kill the processs 
check fp 3874
kill -9 p no
 
stop the agent 
emctl secure agent
  ----password :   oem13cbe
start the agent 
==========================================
RUN {

ALLOCATE CHANNEL ch1 DEVICE TYPE DISK FORMAT '/nasbackup/SYMN2P/db_%U.bkp';

ALLOCATE CHANNEL ch2 DEVICE TYPE DISK FORMAT '/nasbackup/SYMN2P/db_%U.bkp';

ALLOCATE CHANNEL ch3 DEVICE TYPE DISK FORMAT '/nasbackup/SYMN2P/db_%U.bkp';

ALLOCATE CHANNEL ch4 DEVICE TYPE DISK FORMAT '/nasbackup/SYMN2P/db_%U.bkp';

BACKUP tag 'INCR0_DB' INCREMENTAL LEVEL=0 DATABASE PLUS ARCHIVELOG;

CROSSCHECK BACKUP;

DELETE NOPROMPT OBSOLETE;

DELETE NOPROMPT ARCHIVELOG ALL;

release channel ch1;

release channel ch2;

release channel ch3;

release channel ch4;

}  
 
select round((sum(bytes)/1048576/1024),2) from v$datafile;
 
ROUND((SUM(BYTES)/1048576/1024),2)

----------------------------------

                           2153.09

 
specification does not match any archived log in the repository

backup cancelled because there are no files to backup
=======================
When the agent is not behaving properly do these steps.
fp 13.4 
kill the processs 
check fp 3874
check fp emctl 
stop the agent 
emctl secure agent  ----password :   oem13cbe
start the agent 
---------------------------------
The view to check how the user got locked.
SELECT username,userhost,returncode,timestamp,OS_USERNAME
     FROM dba_audit_session
     WHERE username='USER28' and returncode=1017 ORDER BY sessionid DESC ;
 
 ====================================
 To check if any user has made any DDL changes in DB
 SELECT * FROM DBA_OBJECTS where object_type = 'TABLE' order by LAST_DDL_TIME desc;
 
 ----------------------------------
 To check how many files can we store in a tablespace in ...
 Show parameter file_size
 
 ALTER SYSTEM SET db_files = new_value SCOPE=SPFILE;

 
 ----------------------------------------------------
 You guys go for lunch..will check it post t... by Kumari, Babita
Kumari, Babita
1:49 PM
You guys go for lunch..will check it post that
2 Like reactions.
2
Call ended at 1:49 PM after 57 minutes 23 seconds
1:49 PMâ€ƒCall ended 57m 23s
  DB Name Selection OWNER OBJECT_NAME SUBOB... by Mahesh Babu, Dodla
Mahesh Babu, Dodla
2:58 PM
 
DB Name
	
Selection
	
OWNER
	
OBJECT_NAME
	
SUBOBJECT_NAME
	
OBJECT_TYPE
	
CREATED
	
LAST_DDL_TIME
	
TIMESTAMP
	
ORACLE_MAINTAINED


BT
	
6
	
SYS
	
WRH$_SYSMETRIC_HISTORY_INDEX
	
WRH$_SYSME_HIST_MXDB_MXSN
	
INDEX PARTITION
	
2/17/2024
	
2/17/2024
	
2024-02-17:18:21:51
	
N


 
	
 
	
 
	
 
	
 
	
 
	
 
	
 
	
 
	
 


BT
	
8
	
SYS
	
PREUPGRADE_DIR
	
 
	
DIRECTORY
	
2/17/2024
	
2/17/2024
	
2024-02-17:07:55:48
	
N
Hi Kumari, Babita sneha is called me , she want only these two because these owner is sys
Can you check who all have access to these ... by Kumari, Babita
Kumari, Babita
3:07 PM
Can you check who all have access to these objects apart from SYS
You might get it from dba_grantee...similar... by Kumari, Babita
Kumari, Babita
3:08 PM
You might get it from dba_grantee...similar to this view
1 Like reaction.
SQL> SELECT grantee, privilege FROM DBA_T... by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:19 PM
SQL> SELECT grantee, privilege
FROM DBA_TAB_PRIVS
WHERE table_name = 'PREUPGRADE_DIR' AND TYPE = 'DIRECTORY';  2    3
 
no rows selected
 
SQL> SELECT grantee, privilege
FROM DBA_TAB_PRIVS
WHERE table_name = 'WRH$_SYSMETRIC_HISTORY_INDEX' AND TYPE = 'INDEX PARTITION';  2    3
 
no rows selected
 
on the 2nd one...it should be index_name by Kumari, Babita
Kumari, Babita
3:19 PM
on the 2nd one...it should be index_name
don't put type by Kumari, Babita
Kumari, Babita
3:20 PM
don't put type
in first one...no table details...it's dir ... by Kumari, Babita
Kumari, Babita
3:20 PM
in first one...no table details...it's dir right
yes babita by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:20 PM
yes babita
SQL> desc DBA_TAB_PRIVS; Name            ... by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:20 PM
SQL> desc DBA_TAB_PRIVS;
Name                                      Null?    Type
----------------------------------------- -------- ----------------------------
GRANTEE                                            VARCHAR2(128)
OWNER                                              VARCHAR2(128)
TABLE_NAME                                         VARCHAR2(128)
GRANTOR                                            VARCHAR2(128)
PRIVILEGE                                          VARCHAR2(40)
GRANTABLE                                          VARCHAR2(3)
HIERARCHY                                          VARCHAR2(3)
COMMON                                             VARCHAR2(3)
TYPE                                               VARCHAR2(24)
INHERITED                                          VARCHAR2(3)

the view itself is incorrect Grinning face... by Kumari, Babita
Kumari, Babita
3:20 PM
the view itself is incorrect 
we have any views like this by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:20 PM
Edited
we have any views like this
TAB means table by Kumari, Babita
Kumari, Babita
3:21 PM
TAB means table
yes by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:21 PM
yes
yes..may be for object  by Kumari, Babita
Kumari, Babita
3:21 PM
yes..may be for object 
google for it by Kumari, Babita
Kumari, Babita
3:21 PM
google for it
SQL> select 'Grant '||privilege||' on direc... by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:41 PM
SQL> select 'Grant '||privilege||' on directory '||table_schema||'.'||table_name||' to '||grantee
from all_tab_privs
where table_name in (select directory_name from dba_directories);  2    3
 
'GRANT'||PRIVILEGE||'ONDIRECTORY'||TABLE_SCHEMA||'.'||TABLE_NAME||'TO'||GRANTEE
--------------------------------------------------------------------------------
Grant READ on directory SYS.DATA_PUMP_DIR to IMP_FULL_DATABASE
Grant READ on directory SYS.DATA_PUMP_DIR to EXP_FULL_DATABASE
Grant WRITE on directory SYS.DATA_PUMP_DIR to IMP_FULL_DATABASE
Grant WRITE on directory SYS.DATA_PUMP_DIR to EXP_FULL_DATABASE
Grant READ on directory SYS.ORACLE_OCM_CONFIG_DIR to ORACLE_OCM
Grant WRITE on directory SYS.ORACLE_OCM_CONFIG_DIR to ORACLE_OCM
Grant READ on directory SYS.ORACLE_OCM_CONFIG_DIR2 to ORACLE_OCM
Grant WRITE on directory SYS.ORACLE_OCM_CONFIG_DIR2 to ORACLE_OCM
Grant EXECUTE on directory SYS.DATA_PUMP_ORAEXP to SYSTEM
Grant READ on directory SYS.DATA_PUMP_ORAEXP to SYSTEM
Grant WRITE on directory SYS.DATA_PUMP_ORAEXP to SYSTEM
 
'GRANT'||PRIVILEGE||'ONDIRECTORY'||TABLE_SCHEMA||'.'||TABLE_NAME||'TO'||GRANTEE
--------------------------------------------------------------------------------
Grant EXECUTE on directory SYS.DATA_PUMP_BTTST to SYSTEM
Grant READ on directory SYS.DATA_PUMP_BTTST to SYSTEM
Grant WRITE on directory SYS.DATA_PUMP_BTTST to SYSTEM
Grant EXECUTE on directory SYS.PREUPG_OUTPUT_DIR to SYSTEM
Grant READ on directory SYS.PREUPG_OUTPUT_DIR to SYSTEM
Grant WRITE on directory SYS.PREUPG_OUTPUT_DIR to SYSTEM
Grant EXECUTE on directory SYS.DATA_PUMP_BTDV1 to SYSTEM
Grant READ on directory SYS.DATA_PUMP_BTDV1 to SYSTEM
Grant WRITE on directory SYS.DATA_PUMP_BTDV1 to SYSTEM
Grant EXECUTE on directory SYS.DATA_PUMP_CLONE_EXPORTS to SYSTEM
Grant READ on directory SYS.DATA_PUMP_CLONE_EXPORTS to SYSTEM
 
'GRANT'||PRIVILEGE||'ONDIRECTORY'||TABLE_SCHEMA||'.'||TABLE_NAME||'TO'||GRANTEE
--------------------------------------------------------------------------------
Grant WRITE on directory SYS.DATA_PUMP_CLONE_EXPORTS to SYSTEM
Grant EXECUTE on directory SYS.PROD_CUTOVER_BT to SYSTEM
Grant READ on directory SYS.PROD_CUTOVER_BT to SYSTEM
Grant WRITE on directory SYS.PROD_CUTOVER_BT to SYSTEM
 
26 rows selected.
 
we don't have that directory name in BT by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:41 PM
we don't have that directory name in BT
SELECT * FROM DBA_OBJECTS where object_type... by Kumari, Babita
Kumari, Babita
3:42 PM
Edited
SELECT * FROM DBA_OBJECTS where object_type = 'DIRECTORY' order by LAST_DDL_TIME desc;
How about running this..changing object_typ... by Kumari, Babita
Kumari, Babita
3:42 PM
How about running this..changing object_type to directory
I have modified it by Kumari, Babita
Kumari, Babita
3:43 PM
I have modified it
Begin Reference, SELECT * FROM DBA_OBJECTS ... by Kumari, Babita
Kumari, Babita
3:44 PM
Kumari, Babita
1/15/2025 3:42 PM
SELECT * FROM DBA_OBJECTS where object_type = 'DIRECTORY' order by LAST_DDL_TIME desc;
This should give the result
image by Mahesh Babu, Dodla
Mahesh Babu, Dodla
3:59 PM
image by Mahesh Babu, Dodla
Mahesh Babu, Dodla
4:07 PM
image by Mahesh Babu, Dodla
Mahesh Babu, Dodla
4:09 PM
can we connect once babita by Mahesh Babu, Dodla
Mahesh Babu, Dodla
4:12 PM
can we connect once babita
has context menu
Taragalla, venkataratnam is out of office and may not respond

hQL> show user
USER is "SYS"
SQL> alter user MOHAKEEM ACCOUNT UNLOCK;
 
User altered.
 
SQL> alter user MOHAKEEM identified by MohakeeM_#123;
alter user MOHAKEEM identified by MohakeeM_#123
*
ERROR at line 1:
ORA-28007: the password cannot be reused
 
 
SQL> alter user MOHAKEEM identified by MohakeeM_#1235;
 
User altered.
 
SQL> conn MOHAKEEM/MohakeeM_#1235;
Connected.
SQL>

usawstax05784 oraias ORA19C]> cat import_CT.par
DIRECTORY=DATA_PUMP_ORAEXP
DUMPFILE=expdp_CT_full_%U.dmp
logfile=CT_import_full_1.log
FULL=Y
parallel=8
# transform=disable_archive_logging:Y
REMAP_DIRECTORY=/u02/oradata/CT:/opt/data/CT,/u03/oradata/CT:/opt/data/CT,/u04/oradata/CT

Auto DB start post server reboot..
first we need to create file called dbora in /etc/init.d/ location
 
chmod 750 /etc/init.d/dbora ---- make the script executable
 
Configure the Script to Run at Boot
 
chkconfig --add dbora
chkconfig dbora on
 
need to copy the files called dbstartALL.ksh,dbshutALL.ksh in /u01/app/oracle/bin/ location
 
need to edit the oratab file , make sure that the entry for our database ends with Y
 
 
script for dbora file is
 
 
#!/bin/bash
# chkconfig: 35 99 10
# description: Starts and Stops Oracle and Listener processes
ORACLE_HOME=/u01/app/oracle/product/19.0/db_1
ORA_OWNER=oraias
PATH=${PATH}:$ORACLE_HOME/bin
HOST=`hostname`
PLATFORM=`uname`
export ORACLE_HOME PATH
case "$1" in
  'start')
        echo -n $"Starting Oracle DB: "
    su - $ORA_OWNER -c "/u01/app/oracle/bin/dbstartALL.ksh $ORACLE_HOME" &
   ;;
  'stop')
        echo -n $"Shutting down Oracle DB: "
    su - $ORA_OWNER -c "/u01/app/oracle/bin/dbshutALL.ksh $ORACLE_HOME" &
;;
'restart')
        echo -n $"Shutting down Oracle DB: "
          su - $ORA_OWNER -c "/u01/app/oracle/bin/dbshutALL.ksh $ORACLE_HOME" &
        sleep 5
        echo -n $"Starting Oracle DB: "
        su - $ORA_OWNER -c "/u01/app/oracle/bin/dbstartALL.ksh $ORACLE_HOME" &
  ;;
*)
        echo "usage: $0 {start|stop|restart}"
        exit
 
   ;;
esac
 
# End of script dbora


./dbca -J-Djava.io.tmpdir=/tmp

export EDITOR=vi
 
 
 select * from DBA_AUDIT_SESSION WHERE USERNAME='CALENDARXML'AND ACTION_NAME ='LOGON' RETURN_CODE='28000';
 SELECT *
FROM DBA_AUDIT_SESSION
WHERE USERNAME = 'CALENDARXML'
  AND RETURN_CODE = 28000
ORDER BY TIMESTAMP DESC;

The  how the user got locked.
SELECT username,userhost,returncode,timestamp,OS_USERNAME
     FROM dba_audit_session
     WHERE username='CALENDARXML' and returncode=1017 ORDER BY sessionid DESC;
	 
	 
	 SQL> SELECT *
FROM DBA_AUDIT_SESSION
WHERE USERNAME = 'GAE4'
ORDER BY TIMESTAMP DESC;  2    3    4

no rows selected

SQL> SELECT *
FROM DBA_AUDIT_SESSION
WHERE USERNAME = GAE4'
  AND RETURN_CODE = 28000
ORDER BY TIMESTAMP DESC;  2    3    4    5
  AND RETURN_CODE = 28000
      *
ERROR at line 4:
ORA-00904: "RETURN_CODE": invalid identifier
--------------------------------------------------------------------------------------------------------
COLUMN USERNAME      FORMAT A15
COLUMN USERHOST      FORMAT A20
COLUMN RETURNCODE    FORMAT 99999
COLUMN TIMESTAMP     FORMAT A20
COLUMN OS_USERNAME   FORMAT A15
SELECT username,userhost,returncode,timestamp,OS_USERNAME
     FROM dba_audit_session
     WHERE username='GAE8' and returncode=1017 ORDER BY sessionid DESC;  2    3

no rows selected
RTRTRTRT....

SQL> SELECT username, userhost, returncode, timestamp, OS_USERNAME
FROM dba_audit_session
WHERE username = 'GAE4'
ORDER BY sessionid DESC;  2    3    4

no rows selected

SQL> SELECT username, userhost, returncode, timestamp, OS_USERNAME
FROM dba_audit_session
WHERE username = 'CALENDARXML'
ORDER BY timestamp DESC;  2    3    4

no rows selected
select username , account_status, lock_date ,expiry_date, created from dba_users where username='CALENDARXML';

SELECT EVENT_TIMESTAMP, DBUSERNAME, ACTION_NAME, UNIFIED_AUDIT_POLICIES, OBJECT_SCHEMA, OBJECT_NAME, SQL_TEXT
FROM UNIFIED_AUDIT_TRAIL
WHERE ACTION_NAME = 'LOCK ACCOUNT'
ORDER BY EVENT_TIMESTAMP DESC;
=========================
commnad to check how the user got locked
SELECT dbusername, event_timestamp, action_name, return_code
FROM unified_audit_trail
WHERE dbusername = 'CALENDARXML'
AND action_name = 'LOGON'
AND return_code != 0
ORDER BY event_timestamp DESC;
The output shows multiple failed LOGON attempts by the user CALENDARXML with a RETURN_CODE of 1017..

The account was locked due to multiple incorrect credentials.entered during authorization attempts.
---------------
How to check CPU load in AIX server... to check which process is consuming more CPU's
        
 topas -P
----------------
commnad to check backup status are successfull or not
 
col STATUS format a10
col hrs format 999.99
select SESSION_KEY, INPUT_TYPE, STATUS,to_char(START_TIME,'mm/dd/yy hh24:mi') start_time,
to_char(END_TIME,'mm/dd/yy hh24:mi') end_time,elapsed_seconds/3600 hrs from V$RMAN_BACKUP_JOB_DETAILS
order by session_key;



echo "Test mail from Linux server" | sendmail recipient@balimalik@deloitte



RUN
{
allocate channel ch1 type disk format '/mount/qausclsstrv2use2db/qafs/CLSQ/ARCHIVELOGS/al_%t_%s_p%p';
sql 'alter system archive log current;
sql 'alter database backup controlfile to trace';
backup archivelog all delete all input;
RELEASE channel ch1;
}

exit;

rman target / catalog RMANSYMNP/k3g7_R6V@TOOLSB

Aq oem Login - Oracle Enterprise Manager (deloitte.com)
=============================

RMAN> RUN
{
    allocate channel ch1 type disk;
    allocate channel ch2 type disk;
 
    BACKUP DATABASE PLUS ARCHIVELOG
        FORMAT '/efs-ges-backup-west/ges-non-prod/usawstaxqa00026/PTLQA1/INCREMENTAL_L0/dbal_%t_%s_p%p';
 
    crosscheck backup;
    delete noprompt obsolete until time 'SYSDATE - 40';
 
    release channel ch1;
    release channel ch2;
}
exit;

if there is log gap and logs not present in standby also ;;;;

RUN {
  SET ARCHIVELOG DESTINATION TO '/archive/COS2';
  RESTORE ARCHIVELOG SEQUENCE BETWEEN 91577 AND 91596;
}
-- Crosscheck backups to update their status
RMAN> CROSSCHECK BACKUP;

-- List expired backups
RMAN> LIST EXPIRED BACKUP;

-- Delete expired backups
RMAN> DELETE EXPIRED BACKUP;

-- Report obsolete backups based on the retention policy
RMAN> REPORT OBSOLETE;

-- Delete obsolete backups
RMAN> DELETE OBSOLETE;
==========
Commands to remove Flashback parameters, Fra...
How to remove the flashback parameters......

ALTER SYSTEM SET db_flashback_retention_target= 0 SCOPE=BOTH;
ALTER SYSTEM SET db_recovery_file_dest='' SCOPE=BOTH;
ALTER SYSTEM RESET db_recovery_file_dest_size SCOPE=BOTH;

find /u01/app/oracle/admin/TOOLSA/adump -type f -mtime +7 -name '*.aud' -exec rm -f {} \;

/u01/app/oracle/admin/TOOLSA/adump

 69441
 68063
      1378
	  
	  
LISTENER_GADEMOSS.US.DELOITTE.COM =
  (ADDRESS = (PROTOCOL = TCP)(HOST = usawstaxst00423.us.deloitte.com)(PORT = 1521))


BTDEMO_E1AS.US.DELOITTE.COM =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = usawstaxst00256)(PORT = 1521))
    (CONNECT_DATA =
      (SERVICE_NAME = BTDEMO_E1AS.US.DELOITTE.COM)
      (SERVER = DEDICATED)
    )
  )

IMP2.US.DELOITTE.COM =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = usawstaxst00423.us.deloitte.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = IMP2.us.deloitte.com)
    )
  )

IMP1.US.DELOITTE.COM =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = usawstaxst00423.us.deloitte.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = IMP1.us.deloitte.com)
    )
  )

BTDEMO_E1AP.US.DELOITTE.COM =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = usawstaxst00423.us.deloitte.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = BTDEMO_E1AP.US.DELOITTE.COM)
    )
  )

PTST1 =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = usawstaxst00423.us.deloitte.com)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = PTST1.us.deloitte.com)
    )
  )
===================
 user related
 
COLUMN USERNAME         HEADING 'DB Username'    FORMAT A15
COLUMN OS_USERNAME      HEADING 'OS User'        FORMAT A15
COLUMN USERHOST         HEADING 'Host/IP'        FORMAT A40
COLUMN TERMINAL         HEADING 'Terminal'       FORMAT A15
COLUMN LOGIN_TIME       HEADING 'Login Time'     FORMAT A22
COLUMN ACTION_NAME      HEADING 'Action'         FORMAT A10
COLUMN RETURNCODE       HEADING 'Return Code'    FORMAT 99999
SELECT
    USERNAME,
    OS_USERNAME,
    USERHOST,
    TERMINAL,
    TO_CHAR(EXTENDED_TIMESTAMP, 'DD-MON-YYYY HH24:MI:SS') AS LOGIN_TIME,
    ACTION_NAME,
    RETURNCODE
FROM
    dba_audit_session
WHERE
    USERNAME = 'GAE27'
    AND EXTENDED_TIMESTAMP BETWEEN TO_DATE('25/05/2025', 'DD/MM/YYYY')
                              AND TO_DATE('25/06/2025', 'DD/MM/YYYY') + 1
ORDER BY
    EXTENDED_TIMESTAMP DESC
	
=================
COLUMN USERNAME         HEADING 'DB Username'    FORMAT A15
COLUMN OS_USERNAME      HEADING 'OS User'        FORMAT A15
COLUMN USERHOST         HEADING 'Host/IP'        FORMAT A40
COLUMN TERMINAL         HEADING 'Terminal'       FORMAT A15
COLUMN LOGIN_TIME       HEADING 'Login Time'     FORMAT A22
COLUMN ACTION_NAME      HEADING 'Action'         FORMAT A10
COLUMN RETURNCODE       HEADING 'Return Code'    FORMAT 99999
SELECT
    USERNAME,
    OS_USERNAME,
    USERHOST,
    TERMINAL,
    TO_CHAR(EXTENDED_TIMESTAMP, 'DD-MON-YYYY HH24:MI:SS') AS LOGIN_TIME,
    ACTION_NAME,
    RETURNCODE
FROM
    dba_audit_session
WHERE
    USERNAME = 'GAE20'
    AND EXTENDED_TIMESTAMP BETWEEN TO_DATE('29/05/2025', 'DD/MM/YYYY')
                              AND TO_DATE('06/08/2025', 'DD/MM/YYYY') + 1
ORDER BY
    EXTENDED_TIMESTAMP DESC;


set lines 200 pages 200


SELECT username, account_status
FROM dba_users
WHERE account_status LIKE '%LOCKED%'; 

SELECT dbusername, event_timestamp, action_name, return_code, client_identifier, userhost, client_program_name
FROM unified_audit_trail
WHERE dbusername = 'GAE10'
AND action_name = 'LOGON'
AND return_code = 1017
ORDER BY event_timestamp DESC;


SELECT dbusername, event_timestamp, action_name, return_code
FROM unified_audit_trail
WHERE dbusername = 'GAE10'
AND action_name = 'LOGON'
AND return_code != 0
ORDER BY event_timestamp DESC;

SELECT username,
       userhost,
       returncode,
       timestamp,
       os_username
FROM dba_audit_session
WHERE username = 'GAE10'
  AND returncode = 1017
ORDER BY sessionid DESC;


SELECT username, account_status
FROM dba_users
WHERE username = 'USER28';
	
	
	
passwd for this server [euawstaxbc00022 oraias DEORGP1]> has been changed
new passwd is ..    
Elc;30BtpElc;30Btp

 ------> select * from dual@PORTAL_LINK.US.DELOITTE.COM;
 
 
step1:

=====

[usawstaxst00259 oraias ORGTST1]>

SQL> select * from dual@ORGANIZER_ORGMOVE_US2EU.US.DELOITTE.COM;

select * from dual@ORGANIZER_ORGMOVE_US2EU.US.DELOITTE.COM

*

ERROR at line 1:

ORA-12154: TNS:could not resolve the connect identifier specified
 
step2: add new tns entries of target DB

=======================================
 
DEORGS1.DEDHC.COM =

(DESCRIPTION =

(ADDRESS = (PROTOCOL = TCP)(HOST = 10.231.78.45)(PORT = 1521))

(CONNECT_DATA =

(SERVER = DEDICATED)

(SERVICE_NAME = DEORGS1.DEDHC.COM)

)

)
 
step2: drop and recreate DB link

=======================================

SQL> drop public database link ORGANIZER_ORGMOVE_US2EU.US.DELOITTE.COM;
 
Database link dropped.
 
 
get ORGANIZER password from target DB or from app team and recreate DB link.
 
CREATE PUBLIC DATABASE LINK "ORGANIZER_ORGMOVE_US2EU.US.DELOITTE.COM"

CONNECT TO "ORGANIZER" IDENTIFIED BY "A8p$Mf#Yf_"

USING 'DEORGS1.us.deloitte.com';
 
--------------------------------------------
 
ASPNET_DBLINK.US.DELOITTE.COM
 
select dbms_metadata.get_ddl('ASPNET_DBLINK.US.DELOITTE.COM','REMOTE','PUBLIC') from dual;
 
select * from dual@ASPNET_DBLINK.US.DELOITTE.COM;
 
select sysdate from dual@ASPNET_DBLINK.US.DELOITTE.COM;

DBlink related...

US
Servers:usawstax05370.us.deloitte.com
Service:ORGPROD1.US.DELOITTE.COM
Schema/User:Organizer,GODATA

update latest password in below DB link 

Server:EUAWSTAX00009.us.deloitte.com
Service:DEORGP1.US.DELOITTE.COM

DB LInk:ORGANIZER_ORGMOVE_EU2US.DEDHC.COM
----------------------------------

ALTER USER GODATA IDENTIFIED BY "m%~j095cd%hyz@Z";
ALTER USER ORGANIZER IDENTIFIED BY "m%~j095cd%hyz@Z";

DROP DATABASE LINK ORGANIZER_ORGMOVE_EU2US.DEDHC.COM;

CREATE DATABASE LINK ORGANIZER_ORGMOVE_EU2US.DEDHC.COM
CONNECT TO Organizer IDENTIFIED BY "m%~j095cd%hyz@Z"
USING 'DEORGP1.US.DELOITTE.COM';

CREATE DATABASE LINK ORGANIZER_ORGMOVE_EU2US.DEDHC.COM
CONNECT TO GODATA IDENTIFIED BY "'m%~j095cd%hyzZ"
USING 'DEORGP1.US.DELOITTE.COM';


SELECT db_link, username, host
FROM all_db_links
WHERE db_link ='ORGANIZER_ORGMOVE_EU2US.DEDHC.COM';

  ORGPROD1:ORGANIZER:C8RSaXgG6IU_zT:APPUSER
  ORGPROD1:GODATA:C8RSaXgG6IU_zT:APPUSE
  
  
DROP PUBLIC DATABASE LINK ORGANIZER_ORGMOVE_EU2US.DEDHC.COM

 
 sidekick link
https://sidekick.deloitte.com/conversation/f4a3f5c3-473a-4496-95ba-7fe8006d0a97
	echo "Subject: Test Email" | sendmail balimalik@deloitte.com
	
	echo "This is a test email" | mail -s "Test Subject"  balimalik@deloitte.com

LRICHTER


SELECT USERNAME, ACCOUNT_STATUS, CREATED, PROFILE
FROM DBA_USERS
WHERE USERNAME = 'CMCNEIL';


file system server verification 

localaccount creation 

password set 

efs set for backup 

copy the software 19c to new server 

gui working or not
 
installation 

brinary 

  path there 

.bash profile copy from other server and run . .bashprofile  chomod 722 .bashprofile 

check the bin folder and copy /u01/bin path scripts 

pacting and opatch version 

db creation 

oem adding 

tns 

listner 

schema tab 

bin folder (need to copu to orahiome )

enable the auto start up after rebbot 

backup set up 

catalog dbs 

scripts the odit log travs in crontab
 ==============
 while creating the db check this from refrence server...
 SELECT parameter, value
 FROM v$nls_parameters
 WHERE parameter IN ('NLS_NCHAR_CHARACTERSET','NLS_CHARACTERSET');
 =====================
 
 command to check db size 
 
 SELECT
  ROUND(SUM(bytes) / (1024 * 1024 * 1024), 2) AS "Database Size (GB)"
FROM
  dba_data_files;
I think if we will not restart the dbora service. it will not work after reboot.
Because service is running with ORAIAS USER instead of ORACLS.

AKANKSJHA

Can you please review the server usawstaxde00717 it responding very slow as we are applying the patches first time after cpu reduction 
and agent is not starting for some reason

Hi Team,
The issue is no longer presentâ€”no further action needed. Please ignore my earlier request.
____________________________+++++++++++++++++++++++++++++++++++_______________________________
OEM installation.
click on agent  ---target setup ---agent deccom (any step)
agent -----target setup ---agent deccom ---continue
 
continue -----only in OEM server will be removed
 
remove the folder from the server after oem done 13.4
 
AGENT INSTALLATION
  
create the folder in the servr till  agent_inst
settings ---add target -----manually ---add host targets host and platform ---------server name full USAZUAUDDE90001 us.deloiite.com ------platform
 
 
FOR LINUX: /usr/bin/sudo -u %RUNAS% %COMMAND%
FOR AIX : /opt/pware64/bin/sudo -u %RUNAS% %COMMAND%
additional parameters :  -ignorePrereqs

USAWSTAX05784.us.deloitte.com

ADD_HOST_DBA_ADMIN_Jan_6_2025_6:16:26_AM_CST

=====================================================_________________+++++++++++++++++++++++++
PT related
How to check SID and SERIAL# and kill a session in oracle.
Using OEM
First entre db name and search 
 navigate to 'performance' 'Performance hub''SQL MONITORING'
 select SQL ID
 and check time
 
 select * from V$SESSION where SQL_ID = 'a1nks42zd3wrn';
  desc v$session;
 
select SERIAL#,SID from V$SESSION where SQL_ID = '83f203wm01gyh';

   SERIAL#        SID
---------- ----------
     25166       2288
                            SID serial  
ALTER SYSTEM KILL SESSION '2628,44742';
select SERIAL#,SID from V$SESSION where SQL_ID = '8sq9ztah3m3f1';

SERIAL#    SID
------- ------
  21076      4


SERIAL#    SID
------- ------
  32573   3085





SQL>  select SERIAL#,SID from V$SESSION where SQL_ID = '542dxk6kmtkns';

SERIAL#    SID
------- ------
  29277   3080

https://deloitteglobal.service-now.com/incident.do?sys_id=fd4878b08716da5052a133790cbb35a1





SELECT log_date, job_name, status, error#, additional_info
FROM dba_scheduler_job_log WHERE job_name = 'SVCWDAP.WDAP_LOADER.LOAD_DAILY'
ORDER BY log_date DESC;

------------------------------
SELECT
    blocking_session,
    sid,
    serial#,
    wait_class,
    seconds_in_wait
FROM
    v$session
WHERE
    blocking_session IS NOT NULL
ORDER BY
    blocking_session;
	
	select
   c.owner,
   c.object_name,
   c.object_type,
   b.sid,
   b.serial#,
   b.status,
   b.osuser,
   b.machine
from
   v$locked_object a,
   v$session b,
   dba_objects c
where
   b.sid = a.session_id and
   a.object_id = c.object_id;
   
   SELECT
    blocking_session.sid AS blocking_sid,
    blocking_session.serial# AS blocking_serial,
    blocking_session.username AS blocking_username,
    blocking_session.osuser AS blocking_osuser,
    blocking_session.machine AS blocking_machine,
    blocking_session.program AS blocking_program,
    blocked_session.sid AS blocked_sid,
    blocked_session.serial# AS blocked_serial,
    blocked_session.username AS blocked_username,
    blocked_session.osuser AS blocked_osuser,
    blocked_session.machine AS blocked_machine,
    blocked_session.program AS blocked_program,
    blocked_session.event AS blocked_event,
    blocked_session.wait_time AS blocked_wait_time,
    blocked_session.seconds_in_wait AS blocked_seconds_in_wait
FROM
    v$session blocked_session
JOIN
    v$session blocking_session
ON
    blocked_session.blocking_session = blocking_session.sid
WHERE
    blocked_session.blocking_session = 1408
ORDER BY
    blocked_session.seconds_in_wait DESC;
	
	----------------------
	
	SELECT
    sid,
    serial#,
    username,
    osuser,
    machine,
    program,
    status,
    event,
    wait_time,
    seconds_in_wait
FROM
    v$session
WHERE
    sid = 1408;
	---------------
	SID: 1408
Serial#: 62420
Username: TC_0005
OS User: usgpsqacpsvc
Machine: USAWSITSQA01504
Program: JDBC Thin Client
Status: INACTIVE
Event: SQL*Net message from client
Wait Time: 0
Seconds in Wait: 60
----------------------

SET LINESIZE 200
SET PAGESIZE 50

COLUMN sample_time FORMAT A20
COLUMN sid FORMAT 9999
COLUMN serial FORMAT 99999
COLUMN user_id FORMAT 99999
COLUMN sql_id FORMAT A13
COLUMN event FORMAT A30
COLUMN blocking_sid FORMAT 9999
COLUMN blocking_serial FORMAT 99999
COLUMN wait_time FORMAT 99999
COLUMN time_waited FORMAT 99999

SELECT
    ash.sample_time,
    ash.session_id AS sid,
    ash.session_serial# AS serial,
    ash.user_id,
    ash.sql_id,
    ash.event,
    ash.blocking_session AS blocking_sid,
    ash.blocking_session_serial# AS blocking_serial,
    ash.wait_time,
    ash.time_waited
FROM
    dba_hist_active_sess_history ash
WHERE
    ash.session_id = 1408
    AND ash.sample_time >= SYSDATE - 7
ORDER BY
    ash.sample_time DESC;
	
	
	
	------ Set the linesize to accommodate the width of your data
SET LINESIZE 200
SET PAGESIZE 50
SET LONG 1000000
COLUMN sample_time FORMAT A30
COLUMN sid FORMAT 9999
COLUMN serial FORMAT 99999
COLUMN user_id FORMAT 9999
COLUMN sql_id FORMAT A13
COLUMN event FORMAT A30
COLUMN blocking_sid FORMAT 9999
COLUMN blocking_serial FORMAT 99999
COLUMN wait_time FORMAT 999999
COLUMN time_waited FORMAT 999999
---------------------------------------------
select SERIAL#,SID from V$SESSION where SQL_ID = '8b5uhd8px6q0a';

   SERIAL#        SID
---------- ----------
     17140         63
     47522       1133
     51826       1757
      4662       1911
---------------------------------
select SERIAL#,SID from V$SESSION where SQL_ID = '542dxk6kmtkns';

   SERIAL#        SID
---------- ----------
     17140         63
     47522       1133
     51826       1757
      4662       1911



SQL> ALTER SYSTEM KILL SESSION '1133,47522';

System altered.
SQL>
USHDC 8463
----------------------


a1nks42zd3wrn
  SERIAL#        SID
---------- ----------
     35763        214
      1372        517
ALTER SYSTEM KILL SESSION '214,35763';
ALTER SYSTEM KILL SESSION '517,1372';

SERIAL#        SID
---------- ----------
     30828         11
     52999         14
ALTER SYSTEM KILL SESSION '14,52999';


how to check blocking session....

SELECT
    blocking_session,
    sid,
    serial#,
    wait_class,
    seconds_in_wait
FROM
    v$session
WHERE
    blocking_session IS NOT NULL
ORDER BY
    blocking_session;
	
	select
   c.owner,
   c.object_name,
   c.object_type,
   b.sid,
   b.serial#,
   b.status,
   b.osuser,
   b.machine
from
   v$locked_object a,
   v$session b,
   dba_objects c
where
   b.sid = a.session_id and
   a.object_id = c.object_id;
   
   SELECT
    blocking_session.sid AS blocking_sid,
    blocking_session.serial# AS blocking_serial,
    blocking_session.username AS blocking_username,
    blocking_session.osuser AS blocking_osuser,
    blocking_session.machine AS blocking_machine,
    blocking_session.program AS blocking_program,
    blocked_session.sid AS blocked_sid,
    blocked_session.serial# AS blocked_serial,
    blocked_session.username AS blocked_username,
    blocked_session.osuser AS blocked_osuser,
    blocked_session.machine AS blocked_machine,
    blocked_session.program AS blocked_program,
    blocked_session.event AS blocked_event,
    blocked_session.wait_time AS blocked_wait_time,
    blocked_session.seconds_in_wait AS blocked_seconds_in_wait
FROM
    v$session blocked_session
JOIN
    v$session blocking_session
ON
    blocked_session.blocking_session = blocking_session.sid
WHERE
    blocked_session.blocking_session = 1408
ORDER BY
    blocked_session.seconds_in_wait DESC;
	
	----------------------
	
	SELECT
    sid,
    serial#,
    username,
    osuser,
    machine,
    program,
    status,
    event,
    wait_time,
    seconds_in_wait
FROM
    v$session
WHERE
    sid = 1408;
	---------------
	SID: 1408
Serial#: 62420
Username: TC_0005
OS User: usgpsqacpsvc
Machine: USAWSITSQA01504
Program: JDBC Thin Client
Status: INACTIVE
Event: SQL*Net message from client
Wait Time: 0
Seconds in Wait: 60
----------------------

SET LINESIZE 200
SET PAGESIZE 50

COLUMN sample_time FORMAT A20
COLUMN sid FORMAT 9999
COLUMN serial FORMAT 99999
COLUMN user_id FORMAT 99999
COLUMN sql_id FORMAT A13
COLUMN event FORMAT A30
COLUMN blocking_sid FORMAT 9999
COLUMN blocking_serial FORMAT 99999
COLUMN wait_time FORMAT 99999
COLUMN time_waited FORMAT 99999

SELECT
    ash.sample_time,
    ash.session_id AS sid,
    ash.session_serial# AS serial,
    ash.user_id,
    ash.sql_id,
    ash.event,
    ash.blocking_session AS blocking_sid,
    ash.blocking_session_serial# AS blocking_serial,
    ash.wait_time,
    ash.time_waited
FROM
    dba_hist_active_sess_history ash
WHERE
    ash.session_id = 1408
    AND ash.sample_time >= SYSDATE - 7
ORDER BY
    ash.sample_time DESC;
	
	
	
	------ Set the linesize to accommodate the width of your data
SET LINESIZE 200
SET PAGESIZE 50
SET LONG 1000000
COLUMN sample_time FORMAT A30
COLUMN sid FORMAT 9999
COLUMN serial FORMAT 99999
COLUMN user_id FORMAT 9999
COLUMN sql_id FORMAT A13
COLUMN event FORMAT A30
COLUMN blocking_sid FORMAT 9999
COLUMN blocking_serial FORMAT 99999
COLUMN wait_time FORMAT 999999
COLUMN time_waited FORMAT 999999
======================================
SQL> /


SQL> exit
Disconnected from Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production
Version 19.26.0.0.0
[usawsenaqa00110 oradtk CPAQ]> date
Tue Apr  8 02:31:16 CDT 2025
[usawsenaqa00110 oradtk CPAQ]>
------------------------------

SET LINESIZE 200
COLUMN SID         FORMAT 99999
COLUMN SERIAL#     FORMAT 99999
COLUMN USERNAME    FORMAT A15
COLUMN STATUS      FORMAT A10
COLUMN OSUSER      FORMAT A15
COLUMN LOCK_TYPE   FORMAT A10
COLUMN ID1         FORMAT 9999999999
COLUMN ID2         FORMAT 9999999999
COLUMN LMODE       FORMAT 99
COLUMN REQUEST     FORMAT 99
COLUMN BLOCK       FORMAT 9
SELECT
    s.sid,
    s.serial#,
    s.username,
    s.status,
    s.osuser,
    l.type AS lock_type,
    l.id1,
    l.id2,
    l.lmode,
    l.request,
    l.block
FROM
    v$session s
JOIN
    v$lock l ON s.sid = l.sid
WHERE
    s.username = 'CALENDARXML'
    AND l.block = 0
    AND l.request > 0;
	================================
	Create SQL Tuning Task:
SQL

DECLARE
  l_sql_tune_task_id VARCHAR2(100);
BEGIN
  l_sql_tune_task_id := DBMS_SQLTUNE.CREATE_TUNING_TASK(
    sql_id => 'f6qykuphvc92a',
    scope  => DBMS_SQLTUNE.SCOPE_COMPREHENSIVE,
    time_limit => 60,
    task_name => 'sql_tuning_task_f6qykuphvc92a',
    description => 'Tuning task for SQL ID f6qykuphvc92a'
  );
END;
/


  Execute SQL Tuning Task:
SQL

BEGIN
  DBMS_SQLTUNE.EXECUTE_TUNING_TASK(task_name => 'sql_tuning_task_f6qykuphvc92a');
END;
/

Accept SQL Profile:
SQL

DECLARE
  l_sql_profile_name VARCHAR2(100);
BEGIN
  l_sql_profile_name := DBMS_SQLTUNE.ACCEPT_SQL_PROFILE(
    task_name => 'sql_tuning_task_f6qykuphvc92a',
    name => 'sql_profile_f6qykuphvc92a'
  );
END;
/

Verify SQL Profile
SQL

SELECT name, type, status
FROM dba_sql_profiles
WHERE name = 'sql_profile_f6qykuphvc92a';
------------------------------------------
INC8218706 to increase mountpoint /opt/data to 300gb USAWSTAXBC00043




select value from fw_config where key='ScheduleMeetingUrl' and app='MobileCalendar';

VALUE
--------------------------------------------------------------------------------
https://meetingscheduler.deloitte.com/SamlTarget?mCategory=

SQL>
SQL> Update fw_config set value='https://msweb-us.employeeservice.ges.deloitte.com/Home/SamlTarget?mCategory=' where key='ScheduleMeetingUrl' and app='MobileCalendar';

Commit;

1 row updated.

SQL> SQL>
Commit complete.



micheal...
do we need to the space...

Host=ushdc8656.us.deloitte.com 
Target type=Host 
Target name=ushdc8656.us.deloitte.com 
Categories=Capacity 
Message=Filesystem /nasbackup has 4.95% available space, fallen below warning (20) or critical (5) threshold. 
Severity=Critical 

BEGIN
  DBMS_STATS.GATHER_SCHEMA_STATS(
    ownname => 'ASPNET2',
    estimate_percent => DBMS_STATS.AUTO_SAMPLE_SIZE,
    method_opt => 'FOR ALL COLUMNS SIZE AUTO',
    cascade => TRUE
  );
END;
/

Command to check last analyzed ....stats gather when..
SQL> SELECT table_name, last_analyzed
FROM dba_tab_statistics
WHERE owner = 'ASPNET2'

=============+++++++++++++++++++--------------------------
dbora file automatic startup after server reboot


Automatic startup and shutdown script..
first we need to create file called dbora in /etc/init.d/ location
 
chmod 750 /etc/init.d/dbora ---- make the script executable
 
Configure the Script to Run at Boot
 
chkconfig --add dbora
chkconfig dbora on
 
need to copy the files called dbstartALL.ksh,dbshutALL.ksh in /u01/app/oracle/bin/ location
 
need to edit the oratab file , make sure that the entry for our database ends with Y
 
 
script for dbora file is
 
 
#!/bin/bash
# chkconfig: 35 99 10
# description: Starts and Stops Oracle and Listener processes
ORACLE_HOME=/u01/app/oracle/product/19.0/db_1
ORA_OWNER=oraias
PATH=${PATH}:$ORACLE_HOME/bin
HOST=`hostname`
PLATFORM=`uname`
export ORACLE_HOME PATH
case "$1" in
  'start')
        echo -n $"Starting Oracle DB: "
    su - $ORA_OWNER -c "/u01/app/oracle/bin/dbstartALL.ksh $ORACLE_HOME" &
   ;;
  'stop')
        echo -n $"Shutting down Oracle DB: "
    su - $ORA_OWNER -c "/u01/app/oracle/bin/dbshutALL.ksh $ORACLE_HOME" &
;;
'restart')
        echo -n $"Shutting down Oracle DB: "
          su - $ORA_OWNER -c "/u01/app/oracle/bin/dbshutALL.ksh $ORACLE_HOME" &
        sleep 5
        echo -n $"Starting Oracle DB: "
        su - $ORA_OWNER -c "/u01/app/oracle/bin/dbstartALL.ksh $ORACLE_HOME" &
  ;;
*)
        echo "usage: $0 {start|stop|restart}"
        exit
 
   ;;
esac
 
# End of script dbora
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
OEM patching steps


OEM patching steps.

check the df -h
 
cd /oraexp/EMStage/Oct2025
uname -a
oem patchin only ------------------------------------only OEM SERVERS

[ushdc8510 oraoem OER]> . set_OMS
 
[ushdc8510 oraoem OER]> emctl status oms
 
emctl stop oms 
. set_AH
 
[ushdc8510 oraoem OER]> emctl status agent
emctl stop agent

dgmgrl /
show configuration;
cp -r OPatch $OH
opatch version
dbshutALL.ksh
cd 
cd bin 
ls -lrt
dbshutALL.ksh
apply two patched 
opatch lsinventory |grep applied
after patching 
startdbALLUpgrade.ksh 
in primary and cd /oraexp/EMStage 
 apply Patch_Script_Execute.ksh (db patch in primary onlyh )
for oem servers
 
. set_OMS
 frstt  start listener...
[ushdc8510 oraoem OER]> emctl status oms  
emctl start oms
. set_AH
 
[ushdc8510 oraoem OER]> emctl status agent
emctl start agent

---in prmart only
set pages 300 lines 300         
 
col action form a12
 
col version form a40
 
col description form a70
 
col action_date form a20
 
col ACTION_TIME for a38 
select PATCH_ID,ACTION,STATUS,ACTION_TIME,DESCRIPTION from dba_registry_sqlpatch order by ACTION_TIME;
select name,open_mode from v$database;
 

dgmgrl /
 
show configuration; to check the sync
======================================
For standby database
start listener

lsnrctl status 
lsnrctl start
. set_AH
emctl start agent 
emctl status agent

startup nomount;

alter database mount standby database;
=======================================================================

upgrade steps from 12 to 19c....

1.7	Upgrade the Database from 12.2 to 19.3 using Autoupgrade utility:

Upgrade the Database from 12.2 to 19.3 using Autoupgrade tool


Download a new autoupgrade tool from the MOS note 2485457.1 to location /u01/app/oracle/product/19.3.0/dbhome_1/rdbms/admin.

The utility required Java 8 to upgrade DB using autoupgrade tool.
$ORACLE_HOME/jdk/bin/java -version

 

To get the build date of Autoupgrade tool: $ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -version

 

The autoupgrade utility can be run in a number of different modes:

1. Analyze - Can be run during normal DB operation time. It is read only operation which will help us to know the issue which can occur during upgrade and can prevent from upgrade.

$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode analyze 

2. Fixup - AutoUpgrade performs the same checks that it also performs in Analyze mode but after completing these pre-upgrade checks it then runs automated fixups of the source database in preparation for the database upgrade.

$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode fixups 

3. Deploy - the autoupgrade utility performs the actual upgrade of the database as well as also performs a number of post-upgrade steps like recompile invalid objects and timezone DST upgrade among other things.

$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode deploy -restore_on_fail 

4. Upgrade - To divide the upgrad, run the fixups first then run autoupgradetools in upgrade mode. Post upgrade doesn't take place in this mode.

$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt  -mode upgrade



Stages of DB Upgrade:
 Setup - setup the upgrade job with jobid
 Preupgrade - It will check system level setting such as disk space and all for DB upgrade
 Prechecks - it does DB level check for upgrade
 PREFIXUPS- fixes the prechecks errors/warnings. Such as gathering the statistics
 Drain - It clear the session. shut down the DB & listener.
 DBupgrade - Actual DB upgrade takes place & compile the invalid objects
 Postchecks - checks before starting postupgrade.
 postfixups - timezone is upgraded 
 Postupgrades - copy the network files and start the DB from new OH.


7.a) Create a configuration file:

[usadc8915 oradba APEXCL1]> vi /oraexp/Oracle_upgrade_19.3/config.txt
#
# Global logging directory pertains to all jobs
#
global.autoupg_log_dir=/oraexp/Oracle_upgrade_19.3/upgrade_log        # Top level logging directory (Required)[directory where the logs will be saved]

#
# Database 1
#
upg1.dbname=APEXCL1_NDC
upg1.source_home=/u01/app/oracle/product/12.2.0.1.1910/db_1
upg1.target_home=/u01/app/oracle/product/19.3/db_1
upg1.sid=APEXCL1
upg1.start_time=NOW
upg1.log_dir=/oraexp/Oracle_upgrade_19.3/upgrade_log/APEXCL1
upg1.upgrade_node=localhost
upg1.run_utlrp=yes
upg1.timezone_upg=yes
upg1.target_version=19

 

Parameters for config files:

1) Global - when we use global parameter it is applicable for all the databases.
2) Local- It is only applicable for particular DBs. Should be mentioned with some prefix. We can give any prefix just to identify

If local & global both paramter are set, then local will be considered as high priority.

With CONFIG file we can use below options:
1) -clear_recovery_data: Removes the recovery checkpoint to start fresh the next time AutoUpgrade is started. In particular, use this option to run AutoUpgrade so that it discards any previous generated state information.
2)-console: Enables the AutoUpgrade console, if disabled. The console is enabled by default. The console enables you to submit commands at a terminal to receive details in real time about the jobs that are running, so that you can modify their workflow. For example, from the console, you can abort a job, or restore a given database.
3) -noconsole: Disables the console. Use the noconsole mode for batch scripting, in which AutoUpgrade commands are run without interaction at the terminal.
4) -restore_on_fail: Enables the option to restore databases automatically in case of an upgrade failure. This option only applies when AutoUpgrade is run in deploy mode. In other modes, this option is ignored.
5) -debug: Enables debug level messages in both log files and in terminal output.
6) -.zip : Creates an archive (zip) file that contains all AutoUpgrade data and log files. We can't use -mode command with this and the zip file will be created at the present directory.


7.b) Analyzing the upgrade of the database:

$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode analyze

When using console, we can run below commands:
1) help
2) exit
3) lsj [(-r|-f-p|-e)|-n number] -> To list the job details.
4) status jobno
5) resume -job number
6) clear
7) abort -job number
8) log - > to display log file location.
 

 

7.C) ENABLE FLASHBACK RECOVERY:

SQL> alter system set db_recovery_file_dest_size=20G scope=both;

System altered.

SQL> alter system set db_recovery_file_dest='/oraexp/fra' scope=both;

System altered.

SQL> show parameter db_flashback_retention;
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
db_flashback_retention_target        integer     1440

SQL> alter database flashback on;

Database altered.

 

7.d) Check the SCN number & current timestamp and note it down.

SQL> SQL>
SQL> select current_scn from v$database;

CURRENT_SCN
-----------
  129432124

SQL> select to_char(sysdate,'DD MM YYYY HH24:MI:SS') from dual;

TO_CHAR(SYSDATE,'DD
-------------------
03 04 2020 08:48:13

Note: Take RMAN L0 backup of the database and blackout  from OEM.


 


7.e)  Move listener from 12.2 OH to 19.3.

Open X-session on No-machine NX client by opening terminal.

Netca

Delete the old listener running from 12.2 Oracle Home.

Change /etc/oratab to point LISTENER_HOME to the 19C Home.

#LISTENER_HOME:/u01/app/oracle/product/19.3/db_1:N

          Source environment to set new LISTENER_HOME:
          cd
          . .profile

Run netca from on No-machine NX client

 

[usadc8915 oradba ORA193]> oe
-----------------------
Oracle Environment
-----------------------
ORACLE_SID=ORA193
ORACLE_HOME=/u01/app/oracle/product/19.3/db_1
AGENT_HOME=/u01/app/oracle/product/13.2.0/agent13c/agent_inst
LISTENER_HOME=/u01/app/oracle/product/12.2.0.1/db_1
TNS_ADMIN=/u01/app/oracle/product/12.2.0.1/db_1/network/admin
TSM_ADMIN=/usr/tivoli/tsm/client/oracle/bin64
NLS_LANG=AMERICAN_AMERICA.WE8ISO8859P1
OMS_HOME=
LIBPATH=/u01/app/oracle/product/19.3/db_1/lib
 

 




7.f) Run fixup command:

$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode fixups

 

 

7.g) Run the Autoupgrade tool in Deploy mode with restore on fail option.


$ORACLE_HOME/jdk/bin/java -jar /u01/app/oracle/product/19.3/db_1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode deploy -restore_on_fail

 

[usadc8915 oradba APEXCL1]> 1/rdbms/admin/autoupgrade.jar -config /oraexp/Oracle_upgrade_19.3/config.txt -mode deploy -restore_on_fail                    <
AutoUpgrade tool launched with default options
+--------------------------------+
| Starting AutoUpgrade execution |
+--------------------------------+
1 databases will be processed
Type 'help' to list console commands
upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+--------------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|       MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+--------------+
| 107|APEXCL1_NDC|PRECHECKS|PREPARING|RUNNING|20/04/03 09:18|     N/A|09:18:43|Remaining 1/71|
+----+-----------+---------+---------+-------+--------------+--------+--------+--------------+
Total jobs 1
upg> status
---------------- Config -------------------
User configuration file    [/oraexp/Oracle_upgrade_19.3/config.txt]
General logs location      [/oraexp/Oracle_upgrade_19.3/upgrade_log        # Top level logging directory (Required)[directory where the logs will be saved]/cfgtoollogs/upgrade/auto]
Mode                       [DEPLOY]
DB upg fatal errors        ORA-00600,ORA-07445
DB Post upgrade abort time [60] minutes
DB upg abort time          [1440] minutes
DB restore abort time      [120] minutes
DB GRP abort time          [3] minutes
------------------------ Jobs ------------------------
Total databases in configuration file [1]
Total Non-CDB being processed         [1]
Total CDB being processed             [0]
Jobs finished successfully            [0]
Jobs finished/aborted                 [0]
Jobs in progress                      [1]
Jobs stage summary
    Job ID: 107
    DB name: APEXCL1_NDC
        SETUP             <1 min
        PREUPGRADE        <1 min
        PRECHECKS         1 min (IN PROGRESS)
------------ Resources ----------------
Threads in use                        [78]
JVM used memory                       [27] MB
CPU in use                            [13%]
Processes in use                      [67]

upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+--------------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|       MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+--------------+
| 107|APEXCL1_NDC|PRECHECKS|PREPARING|RUNNING|20/04/03 09:18|     N/A|09:18:43|Remaining 1/71|
+----+-----------+---------+---------+-------+--------------+--------+--------+--------------+
Total jobs 1
upg> -------------------------------------------------
job 107 has not shown progress in last 10 minutes
database [APEXCL1_NDC]
Stage    [PRECHECKS]
Operation[PREPARING]
Status   [RUNNING]
Info     [Remaining 1/71]
[Review log files for further information]
-----------------------------------------------
Logs: /oraexp/Oracle_upgrade_19.3/upgrade_log/APEXCL1/APEXCL1/107
-----------------------------------------------
upg>
upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+---------------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|        MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+---------------+
| 107|APEXCL1_NDC|PREFIXUPS|EXECUTING|RUNNING|20/04/03 09:18|     N/A|09:32:25|Loading DB info|
+----+-----------+---------+---------+-------+--------------+--------+--------+---------------+
Total jobs 1
upg> -------------------------------------------------
job 107 has not shown progress in last 10 minutes
database [APEXCL1_NDC]
Stage    [PREFIXUPS]
Operation[EXECUTING]
Status   [RUNNING]
Info     [Loading DB info]
[Review log files for further information]
-----------------------------------------------
Logs: /oraexp/Oracle_upgrade_19.3/upgrade_log/APEXCL1/APEXCL1/107
-----------------------------------------------
upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+-------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+-------+
| 107|APEXCL1_NDC|DBUPGRADE|EXECUTING|RUNNING|20/04/03 09:18|     N/A|09:44:51|Running|
+----+-----------+---------+---------+-------+--------------+--------+--------+-------+
Total jobs 1
upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+------------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|     MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+------------+
| 107|APEXCL1_NDC|DBUPGRADE|EXECUTING|RUNNING|20/04/03 09:18|     N/A|09:48:04|10%Upgraded |
+----+-----------+---------+---------+-------+--------------+--------+--------+------------+
Total jobs 1
upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+------------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|     MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+------------+
| 107|APEXCL1_NDC|DBUPGRADE|EXECUTING|RUNNING|20/04/03 09:18|     N/A|10:03:18|91%Upgraded |
+----+-----------+---------+---------+-------+--------------+--------+--------+------------+
Total jobs 1
upg> lsj
+----+-----------+---------+---------+-------+--------------+--------+--------+-----------+
|Job#|    DB_NAME|    STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|    MESSAGE|
+----+-----------+---------+---------+-------+--------------+--------+--------+-----------+
| 107|APEXCL1_NDC|DBUPGRADE|EXECUTING|RUNNING|20/04/03 09:18|     N/A|10:07:38|0%Compiled |
+----+-----------+---------+---------+-------+--------------+--------+--------+-----------+
Total jobs 1
upg> lsj
+----+-----------+----------+---------+-------+--------------+--------+--------+-------------+
|Job#|    DB_NAME|     STAGE|OPERATION| STATUS|    START_TIME|END_TIME| UPDATED|      MESSAGE|
+----+-----------+----------+---------+-------+--------------+--------+--------+-------------+
| 107|APEXCL1_NDC|POSTFIXUPS|EXECUTING|RUNNING|20/04/03 09:18|     N/A|10:12:59|Remaining 3/3|
+----+-----------+----------+---------+-------+--------------+--------+--------+-------------+
Total jobs 1
upg> Job 107 completed
------------------- Final Summary --------------------
Number of databases            [ 1 ]

Jobs finished successfully     [1]
Jobs failed                    [0]
Jobs pending                   [0]
------------- JOBS FINISHED SUCCESSFULLY -------------
Job 107 FOR APEXCL1_NDC

---- Drop GRP at your convenience once you consider it is no longer needed ----
Drop GRP from APEXCL1_NDC: drop restore point null

[usadc8915 oradba APEXCL1]>

 

  7.h) Check Oracle environment variables:

[usadc8915 oradba APEXCL1]> oe
-----------------------
Oracle Environment
-----------------------
ORACLE_SID=APEXCL1
ORACLE_HOME=/u01/app/oracle/product/19.3/db_1
AGENT_HOME=/u01/app/oracle/product/13.2.0/agent13c/agent_inst
LISTENER_HOME=/u01/app/oracle/product/12.2.0.1/db_1
TNS_ADMIN=/u01/app/oracle/product/12.2.0.1/db_1/network/admin
TSM_ADMIN=/usr/tivoli/tsm/client/oracle/bin64
NLS_LANG=AMERICAN_AMERICA.WE8ISO8859P1
OMS_HOME=
LIBPATH=/u01/app/oracle/product/19.3/db_1/lib
LD_LIBRARYPATH=/u01/app/oracle/product/19.3/db_1/lib
ALERT_LOG=/u01/app/oracle/diag/rdbms/apexcl1_ndc/APEXCL1/trace/alert_APEXCL1.log

Create a new Pfile 

SQL> create pfile from spfile;

7.i) Turn Off the flashback:

SQL> select GUARANTEE_FLASHBACK_DATABASE,NAME from v$restore_point;

GUA
---
NAME
--------------------------------------------------------------------------------
YES
AUTOUPGRADE_221145114461854_APEXCL1_NDC


SQL> select flashback_On from v$database;

FLASHBACK_ON
------------------
YES

SQL> alter database flashback off;

Database altered.

SQL> select flashback_On from v$database;

FLASHBACK_ON
------------------
RESTORE POINT ONLY

SQL> drop restore point  AUTOUPGRADE_221145114461854_APEXCL1_NDC;

Restore point dropped.

SQL> select flashback_On from v$database;

FLASHBACK_ON
------------------
NO


7.j) Change compatibility and optimizer_features_enable

SQL> alter system set compatible='19.0.0' scope=spfile;

System altered.

SQL> alter system set optimizer_features_enable='19.1.0â€™;

System altered.

SQL> shut immediate;
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL> startup
ORACLE instance started.

Total System Global Area 4294921672 bytes
Fixed Size                  9063880 bytes
Variable Size            2298478592 bytes
Database Buffers         1979711488 bytes
Redo Buffers                7667712 bytes
Database mounted.
Database opened.
SQL>

SQL> show parameter compatible

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
compatible                           string      19.0.0
noncdb_compatible                    boolean     FALSE

SQL> show parameter optimizer_features_enable

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
optimizer_features_enable            string      19.1.0
SQL>

 


Note: Support document for compatible parameter - Doc ID 2610939.1 
         Support document for optimizer_feature_enable -      https://docs.oracle.com/en/database/oracle/oracle-database/19/refrn/OPTIMIZER_FEATURES_ENABLE.html#GUID-E193EC9E-B642-4C01-99EC-24E04AEA1A2C

1.8	Database Release Update patching

Download the latest RU patch and latest version Opatch. 

Stop the listener and shutdown the database.

In this case we are applying Jan 2020 RU patch : p30463595_190000_AIX64-5L.zip.

Copy the RU to /oraexp/EMStage of the server.

 unzip p30463595_190000_AIX64-5L.zip

 cd 30463595

[usadc8915 oradba TOOLSBCL]> cd 30463595
[usadc8915 oradba TOOLSBCL]> cd 30484981
[usadc8915 oradba TOOLSBCL]> pwd
/oraexp/EMStage/30463595/30484981
[usadc8915 oradba TOOLSBCL]> opatch apply

 

[usadc8915 oradba TOOLSBCL]> cd ..
[usadc8915 oradba TOOLSBCL]> ls
30484981         30557433         PatchSearch.xml  README.html
[usadc8915 oradba TOOLSBCL]> cd 30557433
[usadc8915 oradba TOOLSBCL]> opatch apply

 

[usadc8915 oradba TOOLSBCL]> opatch lsinventory

 

Start database in upgrade mode:

 

cd $ORACLE_HOME/OPatch
./datapatch -verbose

Execute utlrp.sql to compile the invalid objects.

 

Shutdown and Startup the database in normal mode.

Run below command in SQL prompt to verify if patch has been applied successfully to the database or not:

select action_time,action,status,description , patch_id from DBA_registry_sqlpatch order desc;     

Upgrade the catalog post applying the patch as release version is getting updated when we apply the RU Release update.

      RMAN> upgrade catalog;

      

1.9	Reference Materials
       9.1 Oracle help centre Document:

                     https://docs.oracle.com/en/database/oracle/oracle-database/19/refrn/index.html
       

Appendix A  	Revision & Approval History

Rev.
CMR #	Desc. of Change	Author	Approver	Approved Date
====================================================================================================================================================
dbupgrade steps 
Oracle DB 19c Upgrade Steps
Upgrading an Oracle Database to version 19c involves several steps. Here is a comprehensive guide to help you through the process:

Pre-Upgrade Steps

1. Check Compatibility:
    - Ensure your current database version is eligible for a direct upgrade to 19c. Oracle supports direct upgrades from 11.2.0.4, 12.1.0.2, 12.2.0.1, and 18c.

2. Backup Your Database:
    - Perform a full backup of your database to ensure you can restore it if anything goes wrong during the upgrade process.

3. Check for Deprecated and Desupported Features:
    - Review the Oracle 19c documentation for deprecated and desupported features to understand the impact on your applications.

4. Run the Pre-Upgrade Information Tool:
    - Download and run the `preupgrade.jar` tool to identify any issues that need to be addressed before upgrading.
```bash
java -jar preupgrade.jar TERMINAL TEXT
```

5. Resolve Any Issues:
    - Address any issues identified by the pre-upgrade tool. This may include updating initialization parameters, removing unsupported features, or upgrading components.

Upgrade Steps

1. Install Oracle 19c Software:
    - Download and install the Oracle 19c software on your server. Do not create a new database during the installation.

2. Prepare the New Oracle Home:
    - Set up the environment variables to point to the new Oracle 19c home.
```bash
export ORACLE_HOME=/path/to/new/oracle19c/home
export PATH=ORACLE_HOME/bin:PATH
```

3. Shutdown the Database:
    - Shutdown the current database instance.
```sql
SHUTDOWN IMMEDIATE;
```

4. Start the Database in Upgrade Mode:
    - Start the database in upgrade mode using the new Oracle 19c home.
```sql
STARTUP UPGRADE;
```

5. Run the Database Upgrade Utility:
    - Use the `dbupgrade` utility to upgrade the database.
```bash
$ORACLE_HOME/bin/dbupgrade
```

6. Compile Invalid Objects:
    - After the upgrade, compile any invalid objects.
```sql
@$ORACLE_HOME/rdbms/admin/utlrp.sql
```

7. Run Post-Upgrade Checks:
    - Run the `postupgrade_fixups.sql` script to address any post-upgrade issues.
```sql
@$ORACLE_HOME/rdbms/admin/postupgrade_fixups.sql
```

8. Update Configuration Files:
    - Update the listener.ora and tnsnames.ora files to reflect the new Oracle home.

Post-Upgrade Steps

1. Test the Database:
    - Thoroughly test your applications to ensure they work correctly with the upgraded database.

2. Backup the Upgraded Database:
    - Perform a full backup of the upgraded database.

3. Monitor Performance:
    - Monitor the database performance and make any necessary adjustments to initialization parameters.

Additional Considerations

    - Oracle Data Pump: Consider using Oracle Data Pump for exporting and importing data if a direct upgrade is not possible.
    - Oracle GoldenGate: For minimal downtime upgrades, Oracle GoldenGate can be used to replicate data to the new version while the old version is still running.

By following these steps, you can successfully upgrade your Oracle Database to version 19c.



Disclaimer: Output quality is your responsibility and top priority. You are responsible for ensuring the accuracy, completeness, and relevance of any output generated by Sidekick and how it is used. Similar to an internet search, responses from Sidekick may be inaccurate, dated, incomplete, or not aligned to your specific needs. You should thoroughly review all source materials and all outputs from Sidekick to confirm the response is accurate and edit as necessary before sharing them for any purpose.
===============================================================================================================





























